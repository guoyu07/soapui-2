{
  if (authorizationCode != null) {
    try {
      OAuthClientRequest accessTokenRequest=OAuthClientRequest.tokenLocation(parameters.getAccessTokenUri()).setGrantType(GrantType.AUTHORIZATION_CODE).setClientId(parameters.getClientId()).setClientSecret(parameters.getClientSecret()).setRedirectURI(parameters.getRedirectUri()).setCode(authorizationCode).buildBodyMessage();
      OAuthToken token=getOAuthClient().accessToken(accessTokenRequest,OAuthJSONAccessTokenResponse.class).getOAuthToken();
      if (token != null && token.getAccessToken() != null) {
        parameters.setAccessTokenInProfile(token.getAccessToken());
        browserFacade.close();
      }
    }
 catch (    OAuthSystemException e) {
      SoapUI.logError(e);
    }
catch (    OAuthProblemException e) {
      SoapUI.logError(e);
    }
  }
}
