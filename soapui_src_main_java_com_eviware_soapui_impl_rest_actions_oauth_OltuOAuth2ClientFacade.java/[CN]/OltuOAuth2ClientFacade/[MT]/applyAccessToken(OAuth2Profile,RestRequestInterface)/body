{
  if (StringUtils.isNullOrEmpty(profile.getAccessToken())) {
    StringToStringsMap requestHeaders=request.getRequestHeaders();
    requestHeaders.remove(OAuth.HeaderType.AUTHORIZATION);
    request.setRequestHeaders(requestHeaders);
    return;
  }
  String uri=request.getPath();
  OAuthBearerClientRequest oAuthBearerClientRequest=new OAuthBearerClientRequest(uri).setAccessToken(profile.getAccessToken());
  try {
    appendAccessTokenToHeader(request,oAuthBearerClientRequest);
  }
 catch (  OAuthSystemException e) {
    SoapUI.logError(e);
  }
}
