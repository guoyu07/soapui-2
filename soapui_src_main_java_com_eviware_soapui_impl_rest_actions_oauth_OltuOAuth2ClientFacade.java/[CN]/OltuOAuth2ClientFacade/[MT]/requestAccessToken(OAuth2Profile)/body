{
  try {
    OAuth2Parameters parameters=buildParametersFrom(profile);
    OAuth2ParameterValidator.validate(parameters);
switch (profile.getOAuth2Flow()) {
case IMPLICIT_GRANT:
      oAuth2TokenExtractor.extractAccessTokenForImplicitGrantFlow(parameters);
    break;
case AUTHORIZATION_CODE_GRANT:
default :
  oAuth2TokenExtractor.extractAccessTokenForAuthorizationCodeGrantFlow(parameters);
break;
}
}
 catch (OAuthSystemException e) {
logAndThrowOAuth2Exception(e);
}
catch (MalformedURLException e) {
logAndThrowOAuth2Exception(e);
}
catch (URISyntaxException e) {
logAndThrowOAuth2Exception(e);
}
}
