{
  RestResource possibleParent=null;
  String p=service.getBasePath() + path;
  for (  RestResource resource : service.getAllResources()) {
    if (p.startsWith(resource.getFullPath())) {
      int c=0;
      for (; c < resource.getChildResourceCount(); c++) {
        if (p.startsWith(resource.getChildResourceAt(c).getFullPath()))         break;
      }
      if (c != resource.getChildResourceCount())       continue;
      possibleParent=resource;
      break;
    }
  }
  RestResource resource;
  if (possibleParent != null && UISupport.confirm("Create resource as child to [" + possibleParent.getName() + "]","New Child Resource")) {
    if (p.length() > 0 && possibleParent.getFullPath().length() > 0)     path=path.substring(p.length() - possibleParent.getFullPath().length() - 1);
    resource=possibleParent.addNewChildResource(extractNameFromPath(path),path);
  }
 else {
    resource=service.addNewResource(extractNameFromPath(path),path);
  }
  return resource;
}
