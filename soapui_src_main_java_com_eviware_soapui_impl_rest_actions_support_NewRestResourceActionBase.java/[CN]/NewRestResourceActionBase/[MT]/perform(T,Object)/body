{
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
    dialog.getFormField(Form.RESOURCENAME).addFormFieldValidator(new RequiredValidator());
    dialog.getFormField(Form.EXTRACTPARAMS).setProperty("action",new ExtractParamsAction());
  }
 else {
    dialog.setValue(Form.RESOURCENAME,"");
    dialog.setValue(Form.RESOURCEPATH,"");
  }
  params=new XmlBeansRestParamsTestPropertyHolder(null,RestParametersConfig.Factory.newInstance());
  if (param instanceof URL) {
    String path=RestUtils.extractParams(param.toString(),params,false);
    dialog.setValue(Form.RESOURCEPATH,path);
    setNameFromPath(path);
    if (paramsTable != null)     paramsTable.refresh();
  }
  paramsTable=new RestParamsTable(params,false,ParamLocation.RESOURCE,true,false);
  dialog.getFormField(Form.PARAMSTABLE).setProperty("component",paramsTable);
  if (dialog.show()) {
    String path=dialog.getValue(Form.RESOURCEPATH);
    try {
      URL url=new URL(path);
      path=url.getPath();
    }
 catch (    MalformedURLException e) {
    }
    RestResource resource=createRestResource(service,path,dialog);
    paramsTable.extractParams(resource.getParams(),ParamLocation.RESOURCE);
    XmlBeansRestParamsTestPropertyHolder methodParams=new XmlBeansRestParamsTestPropertyHolder(null,RestParametersConfig.Factory.newInstance(),ParamLocation.METHOD);
    paramsTable.extractParams(methodParams,ParamLocation.METHOD);
    SoapUI.getActionRegistry().getAction(NewRestMethodAction.SOAPUI_ACTION_ID).perform(resource,methodParams);
  }
  paramsTable.release();
  paramsTable=null;
  params=null;
  dialog.getFormField(Form.PARAMSTABLE).setProperty("component",paramsTable);
}
