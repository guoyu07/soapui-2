{
  try {
    RestMockRequest restMockRequest=new RestMockRequest(request,response,mockContext);
    Object result=mockService.runOnRequestScript(mockContext,restMockRequest);
    if (!(result instanceof MockResult)) {
      result=getMockResult(restMockRequest);
    }
    MockResult mockResult=(MockResult)result;
    mockService.runAfterRequestScript(mockContext,mockResult);
    return mockResult;
  }
 catch (  Exception e) {
    throw new DispatchException(e);
  }
}
