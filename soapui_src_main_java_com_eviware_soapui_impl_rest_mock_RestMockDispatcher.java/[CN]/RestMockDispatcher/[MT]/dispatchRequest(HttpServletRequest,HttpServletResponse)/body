{
  RestMockRequest restMockRequest=new RestMockRequest(request,response,mockContext);
  try {
    Object result=mockService.runOnRequestScript(mockContext,restMockRequest);
    if (!(result instanceof MockResult)) {
      result=getMockResult(restMockRequest);
    }
    MockResult mockResult=(MockResult)result;
    mockService.runAfterRequestScript(mockContext,mockResult);
    return mockResult;
  }
 catch (  Exception e) {
    SoapUI.logError(e,"got an exception while dispatching - returning a default 500 response");
    return createServerErrorMockResult(restMockRequest);
  }
}
