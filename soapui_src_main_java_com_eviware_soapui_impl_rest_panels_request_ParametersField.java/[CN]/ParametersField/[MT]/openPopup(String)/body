{
  final RestParamsTable restParamsTable=new RestParamsTable(request.getParams(),false,new RestParamsTableModel(request.getParams(),RestParamsTableModel.Mode.MINIMAL),NewRestResourceActionBase.ParamLocation.METHOD,true,true);
  restParamsTable.addKeyListener(new KeyAdapter(){
    @Override public void keyPressed(    KeyEvent e){
      if (e.getKeyChar() == KeyEvent.VK_ESCAPE) {
        closePopup();
      }
    }
  }
);
  popupComponent=new PopupComponent(restParamsTable);
  Point displayPoint=SwingUtilities.convertPoint(textField,3,getHeight() + 2,SoapUI.getFrame());
  popup=PopupFactory.getSharedInstance().getPopup(null,popupComponent,(int)displayPoint.getX(),(int)displayPoint.getY());
  popup.show();
  SwingUtilities.windowForComponent(restParamsTable.getParamsTable()).setFocusableWindowState(true);
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      restParamsTable.focusParameter(selectedParameter);
      System.out.println(textField.hasFocus() + " - " + restParamsTable.hasFocus()+ " - "+ restParamsTable.getParamsTable().hasFocus()+ "-"+ SwingUtilities.windowForComponent(restParamsTable).hasFocus());
    }
  }
);
  restParamsTable.addFocusListener(new FocusAdapter(){
    @Override public void focusLost(    FocusEvent e){
      System.out.println("Focus lost");
    }
  }
);
}
