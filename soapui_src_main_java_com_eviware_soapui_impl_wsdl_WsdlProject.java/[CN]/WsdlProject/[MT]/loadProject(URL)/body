{
  try {
    UISupport.setHourglassCursor();
    UrlWsdlLoader loader=new UrlWsdlLoader(file.toString(),this);
    loader.setUseWorker(false);
    InputStream inputStream=loader.load();
    projectDocument=SoapuiProjectDocumentConfig.Factory.parse(inputStream);
    inputStream.close();
    this.encrypted=checkForEncodedData(projectDocument.getSoapuiProject());
    setConfig(projectDocument.getSoapuiProject());
    if (!getSettings().getBoolean(WsdlSettings.CACHE_WSDLS)) {
      removeDefinitionCaches(projectDocument);
    }
    log.info("Loaded project from [" + file.toString() + "]");
    try {
      int majorVersion=Integer.parseInt(projectDocument.getSoapuiProject().getSoapuiVersion().split("\\.")[0]);
      if (majorVersion > Integer.parseInt(SoapUI.SOAPUI_VERSION.split("\\.")[0]))       log.warn("Project '" + projectDocument.getSoapuiProject().getName() + "' is from a newer version ("+ projectDocument.getSoapuiProject().getSoapuiVersion()+ ") of SoapUI than this ("+ SoapUI.SOAPUI_VERSION+ ") and parts of it may be incompatible or incorrect. "+ "Saving this project with this version of SoapUI may cause it to function differently.");
    }
 catch (    Exception e) {
    }
    if (!getConfig().isSetProperties())     getConfig().addNewProperties();
    setPropertiesConfig(getConfig().getProperties());
    List<InterfaceConfig> interfaceConfigs=getConfig().getInterfaceList();
    for (    InterfaceConfig config : interfaceConfigs) {
      AbstractInterface<?> iface=InterfaceFactoryRegistry.build(this,config);
      interfaces.add(iface);
    }
    List<TestSuiteConfig> testSuiteConfigs=getConfig().getTestSuiteList();
    for (    TestSuiteConfig config : testSuiteConfigs) {
      testSuites.add(buildTestSuite(config));
    }
    List<MockServiceConfig> mockServiceConfigs=getConfig().getMockServiceList();
    for (    MockServiceConfig config : mockServiceConfigs) {
      mockServices.add(new WsdlMockService(this,config));
    }
    if (!getConfig().isSetWssContainer())     getConfig().addNewWssContainer();
    wssContainer=new DefaultWssContainer(this,getConfig().getWssContainer());
    if (!getConfig().isSetOAuth2ProfileContainer()) {
      getConfig().addNewOAuth2ProfileContainer();
    }
    oAuth2ProfileContainer=new DefaultOAuth2ProfileContainer(this,getConfig().getOAuth2ProfileContainer());
    endpointStrategy.init(this);
    setActiveEnvironment(DefaultEnvironment.getInstance());
    if (!getConfig().isSetAbortOnError())     getConfig().setAbortOnError(false);
    if (!getConfig().isSetRunType())     getConfig().setRunType(TestSuiteRunTypesConfig.SEQUENTIAL);
    afterLoad();
  }
 catch (  Exception e) {
    if (e instanceof XmlException) {
      XmlException xe=(XmlException)e;
      XmlError error=xe.getError();
      if (error != null)       System.err.println("Error at line " + error.getLine() + ", column "+ error.getColumn());
    }
    if (e instanceof RestConversionException) {
      log.error("Project file needs to be updated manually, please reload the project.");
      throw new SoapUIException("Failed to load project from file [" + file.toString() + "]",e);
    }
    e.printStackTrace();
    throw new SoapUIException("Failed to load project from file [" + file.toString() + "]",e);
  }
 finally {
    UISupport.resetCursor();
  }
}
