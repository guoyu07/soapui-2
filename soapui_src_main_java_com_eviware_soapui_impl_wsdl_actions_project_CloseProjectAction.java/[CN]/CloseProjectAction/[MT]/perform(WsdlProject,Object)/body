{
  if (project.isRemote()) {
    if (UISupport.confirm("Close remote project? (changes will be lost)",getName()))     ;
    project.getWorkspace().closeProject(project);
  }
 else {
    Boolean retval=UISupport.confirmOrCancel("Save project [" + project.getName() + "] before closing?","Close Project");
    if (retval == null)     return;
    try {
      if (retval)       project.save();
      project.getWorkspace().closeProject(project);
    }
 catch (    IOException e) {
      UISupport.showErrorMessage(e);
    }
  }
}
