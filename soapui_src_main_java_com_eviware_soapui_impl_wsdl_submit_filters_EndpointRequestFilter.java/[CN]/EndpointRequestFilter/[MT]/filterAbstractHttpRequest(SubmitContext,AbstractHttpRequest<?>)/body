{
  HttpRequestBase httpMethod=(HttpRequestBase)context.getProperty(BaseHttpRequestTransport.HTTP_METHOD);
  String strURL=request.getEndpoint();
  strURL=PropertyExpander.expandProperties(context,strURL);
  try {
    if (StringUtils.hasContent(strURL)) {
      URI uri=new URI(strURL,request.getSettings().getBoolean(HttpSettings.ENCODED_URLS));
      context.setProperty(BaseHttpRequestTransport.REQUEST_URI,uri);
      httpMethod.setURI(new java.net.URI(uri.getScheme(),uri.getUserinfo(),uri.getHost(),uri.getPort(),(uri.getPath()) == null ? "/" : uri.getPath(),uri.getQuery(),uri.getFragment()));
    }
  }
 catch (  Exception e) {
    SoapUI.logError(e);
  }
}
