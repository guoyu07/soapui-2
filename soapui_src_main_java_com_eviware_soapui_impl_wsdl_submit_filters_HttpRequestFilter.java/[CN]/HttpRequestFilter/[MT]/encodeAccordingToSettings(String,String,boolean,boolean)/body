{
  if (!StringUtils.hasContent(encoding)) {
    encoding=System.getProperty("file.encoding");
  }
  if (isAlreadyEncoded(path,encoding)) {
    return path;
  }
 else   if (isDisableUrlEncoding || isPreEncoded) {
    return path;
  }
 else {
    String encodedPath=URLEncoder.encode(path,encoding);
    return encodedPath.replaceAll("\\+","%20");
  }
}
