{
  ProxySelector proxySelector=null;
  if (proxyEnabled) {
    if (autoProxy) {
      proxySelector=new ProxyVoleUtil().createAutoProxySearch().getProxySelector();
    }
 else {
      proxySelector=getManualProxySelector(SoapUI.getSettings());
    }
    Authenticator.setDefault(new ProxySettingsAuthenticator());
    if (proxySelector != null) {
      proxySelector=filterHttpHttpsProxy(proxySelector);
    }
  }
  ProxySelector.setDefault(proxySelector);
}
