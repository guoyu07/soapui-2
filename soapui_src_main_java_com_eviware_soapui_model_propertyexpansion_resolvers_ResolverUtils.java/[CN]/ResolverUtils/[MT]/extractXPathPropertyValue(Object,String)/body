{
  try {
    String value=property instanceof TestProperty ? ((TestProperty)property).getValue() : property.toString();
    if (xpath.startsWith("$")) {
      return JsonPath.read(value,xpath);
    }
 else {
      XmlObject xmlObject=XmlUtils.createXmlObject(value);
      String ns=xpath.trim().startsWith("declare namespace") ? "" : XmlUtils.declareXPathNamespaces(xmlObject);
      Node domNode=XmlUtils.selectFirstDomNode(xmlObject,ns + xpath);
      return domNode == null ? null : XmlUtils.getValueForMatch(domNode,false);
    }
  }
 catch (  Exception e) {
    SoapUI.logError(e);
  }
  return null;
}
