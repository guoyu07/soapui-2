{
  List<AvailablePlugin> plugins=new ArrayList<AvailablePlugin>();
  JSON pluginsAsJson=new JsonSlurper().parse(jsonUrl);
  if (pluginsAsJson instanceof JSONArray) {
    JSONArray array=(JSONArray)pluginsAsJson;
    for (    Object pluginElement : array) {
      if (pluginElement instanceof JSONObject) {
        JSONObject jsonObject=(JSONObject)pluginElement;
        PluginId id=new PluginId((String)jsonObject.get("groupId"),(String)jsonObject.get("name"));
        Version version=Version.fromString((String)jsonObject.get("version"));
        PluginInfo pluginInfo=new PluginInfo(id,version,jsonObject.getString("description"),jsonObject.optString("infoUrl",""));
        URL pluginUrl=new URL((String)jsonObject.get("url"));
        plugins.add(new AvailablePlugin(pluginInfo,pluginUrl));
      }
    }
    return plugins;
  }
 else {
    throw new InvalidPluginException("Invalid JSON found at URL " + jsonUrl);
  }
}
