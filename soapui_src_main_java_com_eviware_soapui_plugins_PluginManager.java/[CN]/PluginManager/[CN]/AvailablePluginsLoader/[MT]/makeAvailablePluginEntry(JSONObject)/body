{
  PluginInfo pluginInfo=makePluginInfo(pluginElement);
  URL pluginUrl;
  String urlString=pluginElement.optString("url");
  try {
    pluginUrl=new URL(urlString);
  }
 catch (  MalformedURLException e) {
    log.warn("Skipping plugin [" + pluginInfo.getId() + " due to malformed URL: "+ urlString);
    return null;
  }
  AvailablePlugin availablePlugin=new AvailablePlugin(pluginInfo,pluginUrl,PluginManager.this,pluginElement.optString("category"));
  JSONArray dependencies=pluginElement.optJSONArray("dependencies");
  if (dependencies != null) {
    for (    Object dependency : dependencies) {
      if (dependency instanceof JSONObject) {
        JSONObject dependencyObject=(JSONObject)dependency;
        try {
          availablePlugin.getPluginInfo().addDependency(makePluginInfo(dependencyObject));
        }
 catch (        Exception ignore) {
        }
      }
    }
  }
  return availablePlugin;
}
