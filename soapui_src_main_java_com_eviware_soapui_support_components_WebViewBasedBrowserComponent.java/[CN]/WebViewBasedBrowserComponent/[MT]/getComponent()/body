{
  if (webView == null) {
    if (addStatusBar) {
      JPanel statusBar=new JPanel(new BorderLayout());
      JLabel statusLabel=new JLabel();
      UISupport.setFixedSize(statusBar,new Dimension(20,20));
      statusBar.add(statusLabel,BorderLayout.WEST);
      panel.add(statusBar,BorderLayout.SOUTH);
    }
    final JFXPanel browserPanel=new JFXPanel();
    panel.add(browserPanel,BorderLayout.CENTER);
    Platform.runLater(new Runnable(){
      public void run(){
        webView=new WebView();
        webView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener<Worker.State>(){
          @Override public void changed(          ObservableValue ov,          Worker.State oldState,          Worker.State newState){
            if (newState == Worker.State.SUCCEEDED) {
              try {
                String location=getWebEngine().getLocation();
                for (                BrowserStateChangeListener listener : listeners) {
                  listener.locationChanged(location);
                }
                if (getWebEngine().getDocument() != null) {
                  Transformer transformer=TransformerFactory.newInstance().newTransformer();
                  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"no");
                  transformer.setOutputProperty(OutputKeys.METHOD,"xml");
                  transformer.setOutputProperty(OutputKeys.INDENT,"yes");
                  transformer.setOutputProperty(OutputKeys.ENCODING,"UTF-8");
                  transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount","4");
                  StringWriter stringWriter=new StringWriter();
                  transformer.transform(new DOMSource(getWebEngine().getDocument()),new StreamResult(stringWriter));
                  String output=stringWriter.getBuffer().toString().replaceAll("\n|\r","");
                  for (                  BrowserStateChangeListener listener : listeners) {
                    listener.contentChanged(output);
                  }
                }
              }
 catch (              Exception ex) {
                SoapUI.logError(ex,"Error processing state change to " + newState);
              }
            }
          }
        }
);
        Group jfxComponentGroup=new Group();
        Scene scene=new Scene(jfxComponentGroup);
        jfxComponentGroup.getChildren().add(webView);
        browserPanel.setScene(scene);
      }
    }
);
  }
  return panel;
}
