{
  accessTokenForm.addSpace(NORMAL_SPACING);
  AbstractValueModel valueModel=accessTokenForm.getPresentationModel().getModel(OAuth2Profile.OAUTH2_FLOW,"getOAuth2Flow","setOAuth2Flow");
  ComboBoxModel oauth2FlowsModel=new DefaultComboBoxModel<OAuth2Profile.OAuth2Flow>(OAuth2Profile.OAuth2Flow.values());
  JComboBox oauth2FlowComboBox=accessTokenForm.appendComboBox("OAuth2.0 Flow",oauth2FlowsModel,"OAuth2.0 Authorization Flow",valueModel);
  accessTokenForm.appendTextField(OAuth2Profile.CLIENT_ID_PROPERTY,"Client Identification","");
  clientSecretField=accessTokenForm.appendTextField(OAuth2Profile.CLIENT_SECRET_PROPERTY,"Client Secret","");
  if (valueModel.getValue() == OAuth2Profile.OAuth2Flow.IMPLICIT_GRANT) {
    clientSecretField.setVisible(false);
  }
  oauth2FlowComboBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() == ItemEvent.SELECTED) {
        clientSecretField.setVisible(e.getItem() != OAuth2Profile.OAuth2Flow.IMPLICIT_GRANT);
      }
    }
  }
);
  accessTokenForm.addSpace(GROUP_SPACING);
  accessTokenForm.appendTextField(OAuth2Profile.AUTHORIZATION_URI_PROPERTY,"Authorization URI","");
  accessTokenForm.appendTextField(OAuth2Profile.ACCESS_TOKEN_URI_PROPERTY,"Access Token URI","");
  accessTokenForm.appendTextField(OAuth2Profile.REDIRECT_URI_PROPERTY,"Redirect URI","");
  accessTokenForm.addSpace(GROUP_SPACING);
  accessTokenForm.appendTextField(OAuth2Profile.SCOPE_PROPERTY,"Scope","");
  accessTokenForm.addSpace(NORMAL_SPACING);
  accessTokenForm.addButtonWithoutLabel("Get access token",new GetOAuthAccessTokenAction(profile));
  accessTokenForm.appendLabel(OAuth2Profile.ACCESS_TOKEN_STATUS_PROPERTY,"Access token status");
  accessTokenForm.addButtonWithoutLabel("Refresh access token",new RefreshOAuthAccessTokenAction(profile));
  accessTokenForm.addSpace(15);
}
