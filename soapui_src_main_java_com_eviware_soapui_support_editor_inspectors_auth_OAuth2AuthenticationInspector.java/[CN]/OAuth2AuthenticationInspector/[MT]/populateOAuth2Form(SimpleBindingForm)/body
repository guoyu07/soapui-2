{
  initForm(oauth2Form);
  oauth2Form.addSpace(TOP_SPACING);
  AbstractValueModel valueModel=oauth2Form.getPresentationModel().getModel(OAuth2Profile.OAUTH2_FLOW,"getOAuth2Flow","setOAuth2Flow");
  ComboBoxModel oauth2FlowsModel=new DefaultComboBoxModel<OAuth2Profile.OAuth2Flow>(OAuth2Profile.OAuth2Flow.values());
  JComboBox oauth2FlowComboBox=oauth2Form.appendComboBox("OAuth2.0 Flow",oauth2FlowsModel,"OAuth2.0 Authorization Flow",valueModel);
  oauth2Form.appendTextField(OAuth2Profile.CLIENT_ID_PROPERTY,"Client Identification","");
  clientSecretField=oauth2Form.appendTextField(OAuth2Profile.CLIENT_SECRET_PROPERTY,"Client Secret","");
  if (valueModel.getValue() == OAuth2Profile.OAuth2Flow.IMPLICIT_GRANT) {
    clientSecretField.setVisible(false);
  }
  oauth2FlowComboBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      if (e.getStateChange() == ItemEvent.SELECTED) {
        clientSecretField.setVisible(e.getItem() != OAuth2Profile.OAuth2Flow.IMPLICIT_GRANT);
      }
    }
  }
);
  oauth2Form.addSpace(GROUP_SPACING);
  oauth2Form.appendTextField(OAuth2Profile.AUTHORIZATION_URI_PROPERTY,"Authorization URI","");
  oauth2Form.appendTextField(OAuth2Profile.ACCESS_TOKEN_URI_PROPERTY,"Access Token URI","");
  oauth2Form.appendTextField(OAuth2Profile.REDIRECT_URI_PROPERTY,"Redirect URI","");
  oauth2Form.addSpace(GROUP_SPACING);
  oauth2Form.appendTextField(OAuth2Profile.SCOPE_PROPERTY,"Scope","");
  oauth2Form.addSpace(NORMAL_SPACING);
  oauth2Form.addButtonWithoutLabel("Get access token",new GetOAuthAccessTokenAction(profile));
  oauth2Form.appendLabel(OAuth2Profile.ACCESS_TOKEN_STATUS_PROPERTY,"Access token status");
  oauth2Form.addButtonWithoutLabel("Refresh access token",new RefreshOAuthAccessTokenAction(profile));
  oauth2Form.addButtonWithoutLabel("Edit scripts",new EditScriptsAction(profile));
  oauth2Form.addSpace(GROUP_SPACING);
  oauth2Form.appendTextField(OAuth2Profile.ACCESS_TOKEN_PROPERTY,"Access Token","",SimpleForm.LONG_TEXT_FIELD_COLUMNS);
  JButton advanceOptionsButton=oauth2Form.addButtonWithoutLabel(ADVANCED_OPTIONS,new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      new OAuth2AdvanceOptionsDialog(profile);
    }
  }
);
  advanceOptionsButton.setName(ADVANCED_OPTIONS);
}
