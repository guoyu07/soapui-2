{
  if (!updating) {
    updating=true;
    String contentAsString=documentContent.getContentAsString();
    if (contentAsString == null) {
      editArea.setText("");
      editArea.setEnabled(false);
    }
 else     if (seemsToBeJsonContentType(documentContent.getContentType())) {
      editArea.setText("Sorry, but the content you are looking for is in another tab");
      editArea.setEnabled(false);
    }
 else {
      int caretPosition=editArea.getCaretPosition();
      editArea.setEnabled(true);
      editArea.setText(MediaTypeHandlerRegistry.getTypeHandler(documentContent.getContentType()).createXmlRepresentation(documentContent));
      editArea.setCaretPosition(caretPosition < contentAsString.length() ? caretPosition : 0);
    }
    updating=false;
  }
}
