{
  Window window=SwingUtilities.windowForComponent(editArea);
  dialog=new JDialog(window,"Find / Replace");
  dialog.setModal(false);
  JPanel panel=new JPanel(new BorderLayout());
  findCombo=new JComboBox();
  findCombo.setEditable(true);
  replaceCombo=new JComboBox();
  replaceCombo.setEditable(true);
  GridLayout gridLayout=new GridLayout(2,2);
  gridLayout.setVgap(5);
  JPanel inputPanel=new JPanel(gridLayout);
  inputPanel.add(new JLabel("Find:"));
  inputPanel.add(findCombo);
  inputPanel.add(new JLabel("Replace with:"));
  inputPanel.add(replaceCombo);
  inputPanel.setBorder(BorderFactory.createEmptyBorder(8,8,8,8));
  ButtonGroup directionGroup=new ButtonGroup();
  forwardButton=new JRadioButton("Forward",true);
  forwardButton.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  directionGroup.add(forwardButton);
  backwardButton=new JRadioButton("Backward");
  backwardButton.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  directionGroup.add(backwardButton);
  JPanel directionPanel=new JPanel(new GridLayout(2,1));
  directionPanel.add(forwardButton);
  directionPanel.add(backwardButton);
  directionPanel.setBorder(BorderFactory.createTitledBorder("Direction"));
  ButtonGroup scopeGroup=new ButtonGroup();
  allButton=new JRadioButton("All",true);
  allButton.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  selectedLinesButton=new JRadioButton("Selected Lines");
  selectedLinesButton.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  scopeGroup.add(allButton);
  scopeGroup.add(selectedLinesButton);
  JPanel scopePanel=new JPanel(new GridLayout(2,1));
  scopePanel.add(allButton);
  scopePanel.add(selectedLinesButton);
  scopePanel.setBorder(BorderFactory.createTitledBorder("Scope"));
  caseCheck=new JCheckBox("Case Sensitive");
  caseCheck.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  wholeWordCheck=new JCheckBox("Whole Word");
  wholeWordCheck.setBorder(BorderFactory.createEmptyBorder(3,3,3,3));
  JPanel optionsPanel=new JPanel(new GridLayout(2,1));
  optionsPanel.add(caseCheck);
  optionsPanel.add(wholeWordCheck);
  optionsPanel.setBorder(BorderFactory.createTitledBorder("Options"));
  JPanel options=new JPanel(new GridLayout(1,2));
  JPanel radios=new JPanel(new GridLayout(2,1));
  radios.add(directionPanel);
  radios.add(scopePanel);
  options.add(optionsPanel);
  options.add(radios);
  options.setBorder(BorderFactory.createEmptyBorder(0,8,0,8));
  ButtonBarBuilder builder=new ButtonBarBuilder();
  findButton=new JButton(new FindAction(findCombo));
  builder.addFixed(findButton);
  builder.addRelatedGap();
  replaceButton=new JButton(new ReplaceAction());
  builder.addFixed(replaceButton);
  builder.addRelatedGap();
  replaceAllButton=new JButton(new ReplaceAllAction());
  builder.addFixed(replaceAllButton);
  builder.addUnrelatedGap();
  builder.addFixed(new JButton(new CloseAction(dialog)));
  builder.setBorder(BorderFactory.createEmptyBorder(8,8,8,8));
  panel.add(inputPanel,BorderLayout.NORTH);
  panel.add(options,BorderLayout.CENTER);
  panel.add(builder.getPanel(),BorderLayout.SOUTH);
  dialog.getContentPane().add(panel);
  dialog.pack();
  UISupport.initDialogActions(dialog,null,findButton);
}
