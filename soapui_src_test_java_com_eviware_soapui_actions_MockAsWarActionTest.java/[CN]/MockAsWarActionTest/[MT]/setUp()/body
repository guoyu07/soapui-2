{
  XFileDialogs xFileDialogs=mock(XFileDialogs.class);
  UISupport.setFileDialogs(xFileDialogs);
  mockSoapHomeDir=new File("soapuihometestdir");
  mockSoapHomeDir.mkdirs();
  mockSoapHomeDir.deleteOnExit();
  File lib=new File(mockSoapHomeDir,"lib");
  lib.mkdir();
  File sampleJarFile=new File(lib,"soapui.jar");
  FileUtils.touch(sampleJarFile);
  soapuiOriginalHome=System.getProperty(SOAPUI_HOME);
  System.setProperty(SOAPUI_HOME,lib.getPath());
  String fileName=SoapUI.class.getResource("/soapui-projects/BasicMock-soapui-4.6.3-Project.xml").toURI().toString();
  project=new WsdlProject(fileName);
  ModelItemFactory.makeRestMockService(project);
  mockedDialog=mock(XFormDialog.class);
  when(mockedDialog.show()).thenReturn(true);
  when(mockedDialog.getFormField(anyString())).thenReturn(any(XFormField.class));
  when(mockedDialog.getFormField(MockAsWarAction.MockAsWarDialog.SETTINGS_FILE)).thenReturn(new FileFormField("",XForm.FieldType.FILE,"setting.war"));
  FileFormField warFileFormField=new FileFormField("",XForm.FieldType.FILE,WAR_FILE_NAME);
  warFileFormField.setValue(WAR_FILE_NAME);
  when(mockedDialog.getFormField(MockAsWarAction.MockAsWarDialog.WAR_FILE)).thenReturn(warFileFormField);
  when(mockedDialog.getFormField(MockAsWarAction.MockAsWarDialog.WAR_DIRECTORY)).thenReturn(new FileFormField("",XForm.FieldType.FILE,"./tmp"));
  when(mockedDialog.getValue(MockAsWarAction.MockAsWarDialog.MOCKSERVICE_ENDPOINT)).thenReturn("http://localhost:8080");
}
