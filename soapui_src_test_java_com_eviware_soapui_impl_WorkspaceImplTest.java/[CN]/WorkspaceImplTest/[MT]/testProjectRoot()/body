{
  File wsFile=new File(TEST_WORKSPACE_FILE_PATH);
  WorkspaceImpl ws=new WorkspaceImpl(wsFile.getAbsolutePath(),null);
  WsdlProject project=ws.createProject("Test Project",null);
  project.saveAs(new File(TEST_PROJECT_FILE_PATH).getAbsolutePath());
  ws.save(false);
  ws.switchWorkspace(wsFile);
  assertEquals(1,ws.getProjectCount());
  assertEquals("Test Project",ws.getProjectAt(0).getName());
  ws.setProjectRoot("${workspaceDir}");
  ws.save(false);
  ws.switchWorkspace(wsFile);
  assertEquals("${workspaceDir}",ws.getProjectRoot());
  assertEquals(1,ws.getProjectCount());
  assertEquals("Test Project",ws.getProjectAt(0).getName());
}
