{
  RestMethod restMethod=mock(RestMethod.class);
  when(restMethod.getRequestAt(0)).thenReturn(restRequest);
  RestResource restResource=mock(RestResource.class);
  when(restResource.getRestMethodCount()).thenReturn(1);
  when(restResource.getFullPath()).thenReturn("/full/path");
  when(restResource.getRestMethodAt(0)).thenReturn(restMethod);
  restMockService.addNewMockOperation(restResource);
  RestMockAction mockOperation=restMockService.getMockOperationAt(0);
  assertThat(mockOperation.getMethod(),is(restRequest.getMethod()));
  assertTrue(mockOperation.getResourcePath().contains("/full/path"));
}
