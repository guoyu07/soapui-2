{
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
    dialog.setBooleanValue(Form.CREATEREQUEST,true);
  }
  dialog.setValue(Form.RESOURCENAME,"Method " + (resource.getRestMethodCount() + 1));
  if (param instanceof XmlBeansRestParamsTestPropertyHolder)   params=(XmlBeansRestParamsTestPropertyHolder)param;
 else   params=new XmlBeansRestParamsTestPropertyHolder(null,RestParametersConfig.Factory.newInstance());
  paramsTable=new MethodInternalRestParamsTable(params,ParamLocation.METHOD);
  dialog.getFormField(Form.PARAMSTABLE).setProperty("component",paramsTable);
  if (dialog.show()) {
    RestMethod method=resource.addNewMethod(dialog.getValue(Form.RESOURCENAME));
    method.setMethod(RestRequestInterface.RequestMethod.valueOf(dialog.getValue(Form.METHOD)));
    paramsTable.extractParams(method.getParams(),ParamLocation.METHOD);
    UISupport.select(method);
    if (dialog.getBooleanValue(Form.CREATEREQUEST)) {
      createRequest(method);
    }
  }
}
