{
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
    dialog.getFormField(Form.RESOURCENAME).addFormFieldValidator(new RequiredValidator());
  }
 else {
    dialog.setValue(Form.RESOURCENAME,"");
    dialog.setValue(Form.RESOURCEPATH,"");
  }
  if (dialog.show()) {
    String path=dialog.getValue(Form.RESOURCEPATH);
    try {
      URL url=new URL(path);
      path=url.getPath();
    }
 catch (    MalformedURLException e) {
    }
    RestResource resource=service.addNewResource(dialog.getValue(Form.RESOURCENAME),path);
    UISupport.select(resource);
    if (dialog.getBooleanValue(Form.EXTRACTPARAMS)) {
      extractParams(resource,path);
    }
    if (dialog.getBooleanValue(Form.CREATEREQUEST)) {
      createRequest(resource);
    }
  }
}
