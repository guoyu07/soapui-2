{
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
    dialog.getFormField(Form.RESOURCENAME).addFormFieldValidator(new RequiredValidator());
    dialog.getFormField(Form.EXTRACTPARAMS).setProperty("action",new ExtractParamsAction());
    dialog.setBooleanValue(Form.CREATEREQUEST,true);
  }
 else {
    dialog.setValue(Form.RESOURCENAME,"");
    dialog.setValue(Form.RESOURCEPATH,"");
  }
  params=new XmlBeansRestParamsTestPropertyHolder(service,RestParametersConfig.Factory.newInstance());
  if (param instanceof URL) {
    URL url=(URL)param;
    String path=RestUtils.extractParams(url,params);
    dialog.setValue(Form.RESOURCEPATH,path);
    setNameFromPath(path);
    if (paramsTable != null)     paramsTable.refresh();
  }
  paramsTable=new RestParamsTable(params,false);
  dialog.getFormField(Form.PARAMSTABLE).setProperty("component",paramsTable);
  if (dialog.show()) {
    String path=dialog.getValue(Form.RESOURCEPATH);
    try {
      URL url=new URL(path);
      path=url.getPath();
    }
 catch (    MalformedURLException e) {
    }
    RestResource resource=createRestResource(service,path,dialog);
    resource.getParams().addParameters(params);
    UISupport.select(resource);
    if (dialog.getBooleanValue(Form.CREATEREQUEST)) {
      createRequest(resource);
    }
  }
}
