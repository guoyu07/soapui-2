{
  if (browser == null)   return;
  if (isRecordHttpTrafic()) {
    setRecordHttpTrafic(false);
  }
 else {
    if (!hasResponseForRecording) {
      try {
        getHttpRequest().submit(new WsdlSubmitContext(getHttpRequest()),false).waitUntilFinished();
      }
 catch (      SubmitException e) {
        SoapUI.logError(e);
      }
      setRecordHttpTrafic(true);
    }
 else {
      UISupport.showInfoMessage("To start recording please resubmit the request first");
      recordButton.setSelected(false);
    }
  }
}
