{
  hasResponseForRecording=false;
  if (httpResponse != null && (preparingToRecord || isRecordHttpTrafic())) {
    try {
      browser.navigate(httpResponse.getURL().toURI().toString(),httpResponse.getRequestContent(),null);
      hasResponseForRecording=true;
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
 else   if (httpResponse != null && httpResponse.getContentType() != null) {
    String contentType=httpResponse.getContentType();
    if (contentType.contains("html") || contentType.contains("text")) {
      try {
        String content=httpResponse.getContentAsString();
        browser.setContent(content,httpResponse.getURL().toURI().toString());
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
 else     if (!contentType.contains("xml")) {
      try {
        String ext=ContentTypeHandler.getExtensionForContentType(contentType);
        File temp=File.createTempFile("response","." + ext);
        FileOutputStream fileOutputStream=new FileOutputStream(temp);
        writeHttpBody(httpResponse.getRawResponseData(),fileOutputStream);
        fileOutputStream.close();
        browser.navigate(temp.toURI().toURL().toString(),null);
        temp.deleteOnExit();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
 else {
    browser.setContent("<missing content>");
  }
}
