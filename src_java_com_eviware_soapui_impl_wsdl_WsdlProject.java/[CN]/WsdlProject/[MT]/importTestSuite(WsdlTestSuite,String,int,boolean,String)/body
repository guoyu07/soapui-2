{
  testSuite.beforeSave();
  TestSuiteConfig testSuiteConfig=index == -1 ? (TestSuiteConfig)getConfig().addNewTestSuite().set(testSuite.getConfig().copy()) : (TestSuiteConfig)getConfig().insertNewTestSuite(index).set(testSuite.getConfig().copy());
  testSuiteConfig.setName(name);
  WsdlTestSuite oldTestSuite=testSuite;
  testSuite=buildTestSuite(testSuiteConfig);
  if (description != null)   testSuite.setDescription(description);
  if (index == -1)   testSuites.add(testSuite);
 else   testSuites.add(index,testSuite);
  if (createCopy)   ModelSupport.unsetIds(testSuite);
  testSuite.afterLoad();
  if (createCopy) {
    testSuite.afterCopy(oldTestSuite);
  }
  fireTestSuiteAdded(testSuite);
  resolveImportedTestSuite(testSuite);
  return testSuite;
}
