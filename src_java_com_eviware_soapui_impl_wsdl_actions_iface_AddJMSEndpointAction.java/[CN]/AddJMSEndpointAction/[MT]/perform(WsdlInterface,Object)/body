{
  XFormDialog dialog=buildDialog(iface);
  initValues(iface);
  if (dialog.show()) {
    String session=dialog.getValue(SESSION);
    int i=dialog.getValueIndex(SEND);
    if (i == -1) {
      UISupport.showErrorMessage("Not supported endpoint");
      return;
    }
    String send=destinationNameList.get(i).getDestinationName();
    int j=dialog.getValueIndex(RECEIVE);
    if (j == -1) {
      UISupport.showErrorMessage("Not supported endpoint");
      return;
    }
    String receive=queueNameList.get(j).getDestinationName();
    if ("-".equals(send) && "".equals(receive)) {
      UISupport.showErrorMessage("Endpoint with blank send and receive field is discarded");
      return;
    }
    if (destinationNameList.get(i).getDomain().equals(Domain.TOPIC) && queueNameList.get(j).getDomain().equals(Domain.QUEUE)) {
      UISupport.showErrorMessage("Not supported endpoint");
      return;
    }
    iface.addEndpoint(createEndpointString(session,send,receive));
  }
}
