{
  HttpRequestConfig httpRequest=HttpRequestConfig.Factory.newInstance();
  httpRequest.setMethod(HttpMethodType.GET.toString());
  httpRequest.setEndpoint(endpoint);
  TestStepConfig testStepConfig=TestStepConfig.Factory.newInstance();
  testStepConfig.setType(HttpRequestStepFactory.HTTPREQUEST_TYPE);
  testStepConfig.setConfig(httpRequest);
  testStepConfig.setName(name);
  HttpTestRequestStep testStep=(HttpTestRequestStep)targetTestCase.addTestStep(testStepConfig);
  desktopPanel=(HttpTestRequestDesktopPanel)UISupport.selectAndShow(testStep);
  HttpTestRequest testRequest=null;
  try {
    testRequest=testStep.getTestRequest();
    WsdlSubmit<HttpRequest> submitRequest=testRequest.submit(new WsdlTestRunContext(testStep),true);
    while (submitRequest.getStatus() != Status.FINISHED) {
      submitRequest.waitUntilFinished();
    }
    if (startRecording) {
      HttpHtmlResponseView htmlResponseView=(HttpHtmlResponseView)desktopPanel.getResponseEditor().getViews().get(2);
      htmlResponseView.setRecordHttpTrafic(true);
    }
  }
 catch (  SubmitException e) {
    e.printStackTrace();
  }
  desktopPanel.focusResponseInTabbedView(true);
}
