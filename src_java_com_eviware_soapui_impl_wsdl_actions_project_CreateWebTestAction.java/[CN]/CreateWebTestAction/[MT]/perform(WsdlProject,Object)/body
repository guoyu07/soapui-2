{
  this.project=target;
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
  }
  dialog.setOptions(Form.TESTSUITE,ModelSupport.getNames(new String[]{CREATE_NEW_OPTION},project.getTestSuiteList()));
  dialog.setValue(Form.TESTSUITE,CREATE_NEW_OPTION);
  dialog.setValue(Form.TESTCASENAME,"Web TestCase");
  dialog.setValue(Form.URL,"");
  dialog.setValue(Form.STARTRECORDING,Boolean.toString(true));
  if (dialog.show()) {
    String targetTestSuiteName=dialog.getValue(Form.TESTSUITE);
    String targetTestCaseName=dialog.getValue(Form.TESTCASENAME);
    while (StringUtils.isNullOrEmpty(dialog.getValue(Form.URL))) {
      UISupport.showErrorMessage("You must specify the web address to start at");
      dialog.show();
    }
    String testStepName=dialog.getValue(Form.URL);
    WsdlTestSuite targetTestSuite=null;
    WsdlTestCase targetTestCase=null;
    targetTestSuite=project.getTestSuiteByName(targetTestSuiteName);
    if (targetTestSuite == null) {
      targetTestSuiteName="Web TestSuite";
      while (project.getTestSuiteByName(targetTestSuiteName) != null) {
        targetTestSuiteName=UISupport.prompt("TestSuite name must be unique, please specify new name for TestSuite\n" + "[" + project.getName() + "->"+ targetTestSuiteName+ "]","Change TestSuite name",targetTestSuiteName);
        if (targetTestSuiteName == null)         return;
      }
      targetTestSuite=project.addNewTestSuite(targetTestSuiteName);
    }
    targetTestCase=targetTestSuite.getTestCaseByName(targetTestCaseName);
    if (targetTestCase == null) {
      while (targetTestSuite.getTestCaseByName(targetTestCaseName) != null) {
        targetTestCaseName=UISupport.prompt("TestCase name must be unique, please specify new name for TestCase\n" + "[" + targetTestCaseName + "] in TestSuite ["+ project.getName()+ "->"+ targetTestSuiteName+ "]","Change TestCase name",targetTestCaseName);
        if (targetTestCaseName == null)         return;
      }
      targetTestCase=targetTestSuite.addNewTestCase(targetTestCaseName);
    }
    while (testStepName == null || targetTestCase.getTestStepByName(testStepName) != null) {
      testStepName=UISupport.prompt("TestStep name must be unique, please specify new name for step\n" + "[" + testStepName + "] in TestCase ["+ project.getName()+ "->"+ targetTestSuiteName+ "->"+ targetTestCaseName+ "]","Change TestStep name",testStepName);
      if (testStepName == null)       return;
    }
    createWebTest(targetTestCase,dialog.getValue(Form.URL),testStepName,dialog.getBooleanValue(Form.STARTRECORDING));
  }
}
