{
  try {
    SoapVersion soapVersion=request.getOperation().getInterface().getSoapVersion();
    String content=request.getRequestContent();
    WsaUtils wsaUtils=new WsaUtils(content,soapVersion,request.getOperation());
    if (!wsaUtils.hasWsAddressing(content)) {
      content=wsaUtils.addWSAddressingRequest(request);
    }
 else     if (SoapUI.getSettings().getBoolean(WsaSettings.OVERRIDE_EXISTING_HEADERS)) {
      content=wsaUtils.overrideExistingRequestHeaders(content,request);
    }
    request.setRequestContent(content);
  }
 catch (  Exception e1) {
    UISupport.showErrorMessage(e1);
  }
 finally {
    UISupport.resetCursor();
  }
}
