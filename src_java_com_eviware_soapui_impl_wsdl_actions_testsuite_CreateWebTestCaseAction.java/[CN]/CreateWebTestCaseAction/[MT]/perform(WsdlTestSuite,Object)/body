{
  this.testSuite=target;
  if (dialog == null) {
    dialog=ADialogBuilder.buildDialog(Form.class);
  }
  dialog.setValue(Form.TESTCASENAME,"Web TestCase");
  dialog.setValue(Form.URL,"");
  dialog.setValue(Form.STARTRECORDING,Boolean.toString(true));
  if (dialog.show()) {
    String targetTestCaseName=dialog.getValue(Form.TESTCASENAME);
    while (StringUtils.isNullOrEmpty(dialog.getValue(Form.URL))) {
      UISupport.showErrorMessage("You must specify the web address to start at");
      dialog.show();
    }
    String url=dialog.getValue(Form.URL);
    String testStepName=HttpUtils.ensureEndpointStartsWithProtocol(url);
    WsdlTestCase targetTestCase=null;
    targetTestCase=testSuite.getTestCaseByName(targetTestCaseName);
    if (targetTestCase == null) {
      while (testSuite.getTestCaseByName(targetTestCaseName) != null) {
        targetTestCaseName=UISupport.prompt("TestCase name must be unique, please specify new name for TestCase\n" + "[" + targetTestCaseName + "] in TestSuite ["+ testSuite.getName()+ "->"+ testSuite.getName()+ "]","Change TestCase name",targetTestCaseName);
        if (targetTestCaseName == null)         return;
      }
      targetTestCase=testSuite.addNewTestCase(targetTestCaseName);
    }
    while (testStepName == null || targetTestCase.getTestStepByName(testStepName) != null) {
      testStepName=UISupport.prompt("TestStep name must be unique, please specify new name for step\n" + "[" + testStepName + "] in TestCase ["+ testSuite.getName()+ "->"+ testSuite.getName()+ "->"+ targetTestCaseName+ "]","Change TestStep name",testStepName);
      if (testStepName == null)       return;
    }
    createWebTest(targetTestCase,HttpUtils.ensureEndpointStartsWithProtocol(url),testStepName,dialog.getBooleanValue(Form.STARTRECORDING));
  }
}
