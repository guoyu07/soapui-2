{
  for (  Interface iface : mockService.getMockedInterfaces()) {
    if (!iface.getInterfaceType().equals(WsdlInterfaceFactory.WSDL_TYPE))     continue;
    try {
      CachedWsdlLoader loader=null;
      if (((WsdlInterface)iface).isCached()) {
        loader=(CachedWsdlLoader)((WsdlInterface)iface).createWsdlLoader();
      }
 else {
        loader=new CachedWsdlLoader((WsdlInterface)iface);
      }
      String wsdlPrefix=getInterfacePrefix(iface).substring(1);
      StringToStringMap parts=loader.createFilesForExport(wsdlPrefix + "&part=");
      for (      String key : parts.keySet()) {
        if (key.toLowerCase().endsWith(".wsdl")) {
          InputSource inputSource=new InputSource(new StringReader(parts.get(key)));
          String content=WsdlUtils.replacePortEndpoint((WsdlInterface)iface,inputSource,getLocalMockServiceEndpoint());
          if (content != null)           parts.put(key,content);
        }
      }
      wsdlCache.put(iface.getName(),parts);
      MockEngine.log.info("Mounted WSDL for interface [" + iface.getName() + "] at ["+ wsdlPrefix+ "]");
    }
 catch (    Exception e) {
      SoapUI.logError(e);
    }
  }
}
