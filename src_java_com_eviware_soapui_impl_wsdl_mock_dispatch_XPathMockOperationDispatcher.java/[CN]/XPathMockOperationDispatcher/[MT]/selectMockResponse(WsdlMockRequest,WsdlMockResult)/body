{
  XmlObject xmlObject;
  try {
    xmlObject=request.getRequestXmlObject();
  }
 catch (  XmlException e) {
    throw new DispatchException("Error getting XmlObject for request: " + e);
  }
  String path=getMockOperation().getDispatchPath();
  if (StringUtils.isNullOrEmpty(path))   throw new DispatchException("Missing dispatch XPath expression");
  XmlObject[] items=xmlObject.selectPath(path);
  for (  XmlObject item : items) {
    WsdlMockResponse mockResponse=getMockOperation().getMockResponseByName(XmlUtils.getNodeValue(item.getDomNode()));
    if (mockResponse != null)     return mockResponse;
  }
  return null;
}
