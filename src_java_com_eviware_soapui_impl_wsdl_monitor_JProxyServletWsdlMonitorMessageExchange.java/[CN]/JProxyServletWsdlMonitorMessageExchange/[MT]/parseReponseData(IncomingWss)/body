{
  ByteArrayInputStream in=new ByteArrayInputStream(response);
  try {
    responseContentType=responseHeaders.get("Content-Type");
    if (responseContentType != null && responseContentType.toUpperCase().startsWith("MULTIPART")) {
      StringToStringMap values=StringToStringMap.fromHttpHeader(responseContentType);
      responseMmSupport=new MultipartMessageSupport(new MonitorMessageExchangeDataSource("monitor response",in,responseContentType),values.get("start"),null,true,SoapUI.getSettings().getBoolean(WsdlSettings.PRETTY_PRINT_RESPONSE_MESSAGES));
      responseContentType=responseMmSupport.getRootPart().getContentType();
    }
 else {
      this.responseContent=XmlUtils.prettyPrintXml(Tools.readAll(in,0).toString());
    }
    processResponseWss(incomingResponseWss);
  }
 catch (  Exception e) {
    try {
      in.close();
    }
 catch (    IOException e1) {
      e1.printStackTrace();
    }
  }
}
