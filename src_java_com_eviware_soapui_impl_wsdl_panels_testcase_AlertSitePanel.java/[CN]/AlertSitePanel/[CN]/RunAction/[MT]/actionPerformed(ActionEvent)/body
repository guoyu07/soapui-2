{
  if (validator != null && !validator.isValid(testCase)) {
    UISupport.showErrorMessage("Your project contains external dependencies that " + "are not supported by the Test-On-Demand functionality at this point.");
    return;
  }
  if (locationsComboBox != null) {
    Location selectedLocation=(Location)locationsComboBox.getSelectedItem();
    String redirectUrl="";
    XProgressDialog progressDialog=UISupport.getDialogs().createProgressDialog("Upload TestCase",3,"Uploading TestCase..",false);
    SendTestCaseWorker sendTestCaseWorker=new SendTestCaseWorker(testCase,selectedLocation);
    try {
      progressDialog.run(sendTestCaseWorker);
    }
 catch (    Exception e) {
      SoapUI.logError(e);
    }
    redirectUrl=sendTestCaseWorker.getResult();
    if (!Strings.isNullOrEmpty(redirectUrl)) {
      if (SoapUI.isJXBrowserDisabled(true)) {
        Tools.openURL(redirectUrl);
      }
 else {
        if (browser != null) {
          browser.navigate(redirectUrl,null);
        }
      }
    }
  }
}
