{
  this.httpRequest=new WeakReference<AbstractHttpRequestInterface<?>>(httpRequest);
  this.timeTaken=httpMethod.getTimeTaken();
  method=httpMethod.getMethod();
  version=httpMethod.getParams().getVersion().toString();
  try {
    this.url=new URL(httpMethod.getURI().toString());
  }
 catch (  Exception e1) {
    SoapUI.logError(e1);
  }
  if (!httpMethod.isFailed()) {
    Settings settings=httpRequest.getSettings();
    if (settings.getBoolean(HttpSettings.INCLUDE_RESPONSE_IN_TIME_TAKEN)) {
      try {
        httpMethod.getResponseBody();
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
      timeTaken+=httpMethod.getResponseReadTime();
    }
    try {
      this.timestamp=System.currentTimeMillis();
      this.contentType=httpMethod.getResponseContentType();
      if (httpMethod.hasResponse()) {
        this.statusCode=httpMethod.getStatusCode();
        this.sslInfo=httpMethod.getSSLInfo();
      }
      this.url=new URL(httpMethod.getURI().toString());
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
  if (httpRequest instanceof TestRequest) {
    TestCase tc=((TestRequest)httpRequest).getTestStep().getTestCase();
    if (tc instanceof WsdlTestCase && ((WsdlTestCase)tc).isForLoadTest()) {
      initHeadersForLoadTest(httpMethod);
      return;
    }
  }
  initHeaders(httpMethod);
}
