{
  try {
    if (source != null) {
      return new FileInputStream(source);
    }
    if (SchemaUtils.isInstanceOf(schemaType,XmlHexBinary.type)) {
      return new ByteArrayInputStream(Hex.decodeHex(content.toCharArray()));
    }
 else     if (SchemaUtils.isInstanceOf(schemaType,XmlBase64Binary.type)) {
      return new ByteArrayInputStream(Base64.decodeBase64(content.getBytes()));
    }
 else {
      SoapUI.log.warn("Unexpected type for XOPPartDataSource; " + schemaType.getName());
      return new ByteArrayInputStream(content.getBytes());
    }
  }
 catch (  Exception e) {
    SoapUI.logError(e);
    throw new IOException(e.toString());
  }
}
