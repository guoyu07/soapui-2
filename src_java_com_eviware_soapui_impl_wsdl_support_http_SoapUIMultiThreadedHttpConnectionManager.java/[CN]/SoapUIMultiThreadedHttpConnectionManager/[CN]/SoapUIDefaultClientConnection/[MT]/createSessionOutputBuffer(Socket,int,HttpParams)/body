{
  if (buffersize == -1) {
    buffersize=8192;
  }
  SessionOutputBuffer outbuffer=new SocketOutputBuffer(socket,buffersize,params);
  if (wireLog.isDebugEnabled()) {
    outbuffer=new LoggingSessionOutputBuffer(outbuffer,new Wire(wireLog),HttpProtocolParams.getHttpElementCharset(params));
  }
  return outbuffer;
}
