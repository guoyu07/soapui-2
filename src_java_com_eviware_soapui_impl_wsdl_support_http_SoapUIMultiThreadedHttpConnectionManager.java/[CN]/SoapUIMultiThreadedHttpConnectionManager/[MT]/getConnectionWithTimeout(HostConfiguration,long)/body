{
  LOG.trace("enter HttpConnectionManager.getConnectionWithTimeout(HostConfiguration, long)");
  if (hostConfiguration == null) {
    throw new IllegalArgumentException("hostConfiguration is null");
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("HttpConnectionManager.getConnection:  config = " + hostConfiguration + ", timeout = "+ timeout);
  }
  final HttpConnection conn=doGetConnection(hostConfiguration,timeout);
  conn.getParams().setParameter(SoapUIHostConfiguration.SOAPUI_SSL_CONFIG,hostConfiguration.getParams().getParameter(SoapUIHostConfiguration.SOAPUI_SSL_CONFIG));
  return new HttpConnectionAdapter(conn);
}
