{
  wsaVersionNameSpace=WS_A_VERSION_200508;
  if (wsaContainer.getWsaConfig().getVersion().equals(WsaVersionTypeConfig.X_200408.toString())) {
    wsaVersionNameSpace=WS_A_VERSION_200408;
  }
  replyToAnonimus=wsaVersionNameSpace + "/anonymous";
  relatesToReply=wsaVersionNameSpace + "/reply";
  xmlObject=XmlObject.Factory.parse(content);
  Element header=(Element)SoapUtils.getHeaderElement(xmlObject,soapVersion,true).getDomNode();
  header.setAttribute("xmlns:wsa",wsaVersionNameSpace);
  XmlObject[] envelope=xmlObject.selectChildren(soapVersion.getEnvelopeQName());
  elm=(Element)envelope[0].getDomNode();
  Boolean mustUnderstand=null;
  if (wsaContainer.getWsaConfig().getMustUnderstand().equals(MustUnderstandTypeConfig.FALSE.toString())) {
    mustUnderstand=false;
  }
 else   if (wsaContainer.getWsaConfig().getMustUnderstand().equals(MustUnderstandTypeConfig.TRUE.toString())) {
    mustUnderstand=true;
  }
  builder=new WsaBuilder(wsaVersionNameSpace,mustUnderstand);
  String from=wsaContainer.getWsaConfig().getFrom();
  if (!StringUtils.isNullOrEmpty(from)) {
    header.appendChild(builder.createWsaAddressChildElement("wsa:From",elm,from));
  }
  String faultTo=wsaContainer.getWsaConfig().getFaultTo();
  if (!StringUtils.isNullOrEmpty(faultTo)) {
    header.appendChild(builder.createWsaAddressChildElement("wsa:FaultTo",elm,faultTo));
  }
  return header;
}
