{
  wsaVersionNameSpace=WS_A_VERSION_200508;
  if (wsaContainer.getWsaConfig().getVersion().equals(WsaVersionTypeConfig.X_200408.toString())) {
    wsaVersionNameSpace=WS_A_VERSION_200408;
  }
  anonymousAddress=wsaVersionNameSpace + "/anonymous";
  noneAddress=wsaVersionNameSpace + "/none";
  relationshipTypeReply=wsaVersionNameSpace + "/reply";
  unspecifiedMessage=wsaVersionNameSpace + "/unspecified";
  anonymousType=wsaContainer.getOperation().getAnonymous();
  if (anonymousType.equals(AnonymousTypeConfig.OPTIONAL.toString())) {
    anonymousType=wsaContainer.getOperation().getInterface().getAnonymous();
  }
  Element header=(Element)SoapUtils.getHeaderElement(xmlContentObject,soapVersion,true).getDomNode();
  header.setAttribute("xmlns:wsa",wsaVersionNameSpace);
  XmlObject[] envelope=xmlContentObject.selectChildren(soapVersion.getEnvelopeQName());
  envelopeElement=(Element)envelope[0].getDomNode();
  Boolean mustUnderstand=null;
  if (wsaContainer.getWsaConfig().getMustUnderstand().equals(MustUnderstandTypeConfig.FALSE.toString())) {
    mustUnderstand=false;
  }
 else   if (wsaContainer.getWsaConfig().getMustUnderstand().equals(MustUnderstandTypeConfig.TRUE.toString())) {
    mustUnderstand=true;
  }
  builder=new WsaBuilder(wsaVersionNameSpace,mustUnderstand);
  String from=wsaContainer.getWsaConfig().getFrom();
  if (!StringUtils.isNullOrEmpty(from)) {
    header=processWsaProperty(header,overrideExisting,"wsa:From",from);
  }
  String faultTo=wsaContainer.getWsaConfig().getFaultTo();
  if (!StringUtils.isNullOrEmpty(faultTo)) {
    header=processWsaProperty(header,overrideExisting,"wsa:FaultTo",faultTo);
  }
  return header;
}
