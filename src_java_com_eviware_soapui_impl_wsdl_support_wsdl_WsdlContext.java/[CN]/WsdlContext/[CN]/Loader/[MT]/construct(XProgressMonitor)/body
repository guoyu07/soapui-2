{
  try {
    if (!validateCache(cache)) {
      monitor.setProgress(1,"Caching definition from url [" + url + "]");
      currentLoader=getWsdlLoader();
      currentLoader.setProgressMonitor(monitor,2);
      cache=iface == null ? WsdlUtils.cacheWsdl(currentLoader) : iface.cacheDefinition(currentLoader);
      if (currentLoader.isAborted())       throw new Exception("Loading of WSDL from [" + url + "] was aborted");
    }
    monitor.setProgress(1,"Loading definition from " + (cache == null ? "url" : "cache"));
    log.debug("Loading definition from " + (cache == null ? "url" : "cache"));
    currentLoader=cache == null ? getWsdlLoader() : new CachedWsdlLoader(cache);
    loadDefinitions(currentLoader);
    return null;
  }
 catch (  Throwable e) {
    log.error("Loading of definition failed for [" + url + "]; "+ e);
    SoapUI.logError(e);
    this.error=e;
    return e;
  }
 finally {
    currentLoader=null;
  }
}
