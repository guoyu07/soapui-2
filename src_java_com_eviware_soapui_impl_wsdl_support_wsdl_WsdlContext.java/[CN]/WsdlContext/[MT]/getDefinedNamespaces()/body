{
  loadIfNecessary();
  Set<String> namespaces=new HashSet<String>();
  SchemaTypeSystem schemaTypes=getSchemaTypeSystem();
  if (schemaTypes != null) {
    namespaces.addAll(SchemaUtils.extractNamespaces(getSchemaTypeSystem(),true));
  }
  Definition definition=definitionCache.get(url);
  if (definition != null)   namespaces.add(definition.getTargetNamespace());
  return namespaces;
}
