{
  try {
    AttributeExtensible attributeExtensible=output ? operation.getBindingOperation().getOperation().getOutput() : operation.getBindingOperation().getOperation().getInput();
    if (attributeExtensible == null)     return null;
    String[] attrs=WsdlUtils.getExentsibilityAttributes(attributeExtensible,new QName(WsaUtils.WS_A_VERSION_200408,"Action"));
    if (attrs == null || attrs.length == 0)     attrs=WsdlUtils.getExentsibilityAttributes(attributeExtensible,new QName(WsaUtils.WS_A_VERSION_200508,"Action"));
    if (attrs != null && attrs.length > 0) {
      return attrs[0];
    }
    if (StringUtils.hasContent(operation.getAction()))     return operation.getAction();
    WsdlInterface iface=operation.getInterface();
    Definition definition=iface.getWsdlContext().getDefinition();
    String targetNamespace=definition.getTargetNamespace();
    String portTypeName=iface.getBinding().getPortType().getQName().getLocalPart();
    String operationName=output ? operation.getOutputName() : operation.getInputName();
    if (operationName == null)     operationName=operation.getName() + (output ? "Response" : "Request");
    StringBuffer result=new StringBuffer(targetNamespace);
    if (targetNamespace.charAt(targetNamespace.length() - 1) != '/' && portTypeName.charAt(0) != '/')     result.append('/');
    result.append(portTypeName);
    if (portTypeName.charAt(portTypeName.length() - 1) != '/' && operationName.charAt(0) != '/')     result.append('/');
    result.append(operationName);
    return result.toString();
  }
 catch (  Exception e) {
    e.printStackTrace();
    log.warn(e.toString());
    return null;
  }
}
