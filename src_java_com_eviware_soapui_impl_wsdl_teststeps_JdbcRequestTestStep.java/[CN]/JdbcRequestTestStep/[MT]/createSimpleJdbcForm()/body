{
  if (configForm == null) {
    configForm=new SimpleForm();
  }
  configForm.addSpace(5);
  configForm.setDefaultTextFieldColumns(50);
  JTextField textField=configForm.appendTextField(DRIVER_FIELD,"JDBC Driver to use");
  textField.setText(getDriver());
  textField.getDocument().addDocumentListener(new DocumentListenerAdapter(){
    @Override public void update(    Document document){
      driver=configForm.getComponentValue(DRIVER_FIELD);
      setDriver(driver);
      if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString)) {
        testConnectionButton.setEnabled(false);
      }
 else {
        testConnectionButton.setEnabled(true);
      }
      if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString) || StringUtils.isNullOrEmpty(query)) {
        runnable=false;
      }
 else {
        runnable=true;
      }
    }
  }
);
  textField=configForm.appendTextField(CONNSTR_FIELD,"JDBC Driver Connection String");
  textField.setText(getConnectionString());
  textField.getDocument().addDocumentListener(new DocumentListenerAdapter(){
    @Override public void update(    Document document){
      connectionString=configForm.getComponentValue(CONNSTR_FIELD);
      setConnectionString(connectionString);
      if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString)) {
        testConnectionButton.setEnabled(false);
      }
 else {
        testConnectionButton.setEnabled(true);
      }
      if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString) || StringUtils.isNullOrEmpty(query)) {
        runnable=false;
      }
 else {
        runnable=true;
      }
    }
  }
);
  testConnectionButton=configForm.appendButton("TestConnection","Test selected database connection");
  testConnectionButton.setAction(new TestConnectionAction());
  if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString)) {
    testConnectionButton.setEnabled(false);
  }
 else {
    testConnectionButton.setEnabled(true);
  }
  if (StringUtils.isNullOrEmpty(driver) || StringUtils.isNullOrEmpty(connectionString) || StringUtils.isNullOrEmpty(query)) {
    runnable=false;
  }
 else {
    runnable=true;
  }
  queryArea=JXEditTextArea.createSqlEditor();
  JXEditAreaPopupMenu.add(queryArea);
  queryArea.setText(getQuery());
  JScrollPane scrollPane=new JScrollPane(queryArea);
  scrollPane.setPreferredSize(new Dimension(400,150));
  configForm.append(QUERY_FIELD,scrollPane);
  queryArea.getDocument().addDocumentListener(new DocumentListenerAdapter(){
    @Override public void update(    Document document){
      query=queryArea.getText();
      setQuery(query);
    }
  }
);
  return configForm;
}
