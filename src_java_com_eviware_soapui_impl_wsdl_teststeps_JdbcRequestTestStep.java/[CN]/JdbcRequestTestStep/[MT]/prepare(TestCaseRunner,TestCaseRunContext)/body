{
  getDatabaseConnection(context);
  if (jdbcRequestTestStepConfig.getStoredProcedure()) {
    String sql=PropertyExpander.expandProperties(context,jdbcRequestTestStepConfig.getQuery());
    if (!sql.startsWith("{call ") && !sql.endsWith("}"))     sql="{call " + sql + "}";
    statement=connection.prepareCall(sql,ResultSet.TYPE_FORWARD_ONLY,ResultSet.CONCUR_READ_ONLY);
  }
 else {
    String sql=PropertyExpander.expandProperties(context,jdbcRequestTestStepConfig.getQuery());
    statement=connection.prepareStatement(sql);
  }
  super.prepare(testRunner,context);
}
