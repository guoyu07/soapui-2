{
  super(testCase,config,true,forLoadTest);
  if (config.getConfig() != null) {
    testStepConfig=(AsyncResponseStepConfig)config.getConfig().changeType(AsyncResponseStepConfig.type);
    mockResponseConfig=testStepConfig.getResponse();
  }
 else {
    testStepConfig=(AsyncResponseStepConfig)config.addNewConfig().changeType(AsyncResponseStepConfig.type);
    mockResponseConfig=testStepConfig.addNewResponse();
  }
  assertionsSupport=new AssertionsSupport(this,new AssertableConfig(){
    public TestAssertionConfig addNewAssertion(){
      return testStepConfig.addNewAssertion();
    }
    public List<TestAssertionConfig> getAssertionList(){
      return testStepConfig.getAssertionList();
    }
    public void removeAssertion(    int ix){
      testStepConfig.removeAssertion(ix);
    }
  }
);
  createMockService();
  if (!forLoadTest) {
    setIcon(UISupport.createImageIcon("/asyncResponseStep.gif"));
    if (iface != null) {
      iface.getProject().addProjectListener(projectListener);
      iface.addInterfaceListener(interfaceListener);
    }
  }
  addProperty(new TestStepBeanProperty("Response",false,mockResponse,"responseContent",this));
  addProperty(new DefaultTestStepProperty("Request",true,new DefaultTestStepProperty.PropertyHandlerAdapter(){
    public String getValue(    DefaultTestStepProperty property){
      WsdlMockResult mockResult=getMockResponse().getMockResult();
      if (mockResult == null) {
        return null;
      }
 else {
        return mockResult.getMockRequest().getRequestContent();
      }
    }
  }
,this));
  addProperty(new TestStepBeanProperty("Matching Value",false,this,"matchingValue",this));
}
