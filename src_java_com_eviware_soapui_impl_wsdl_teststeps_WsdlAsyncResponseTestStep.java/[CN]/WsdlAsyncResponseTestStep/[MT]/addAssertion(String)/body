{
  PropertyChangeNotifier notifier=new PropertyChangeNotifier();
  TestAssertionConfig assertionConfig=testStepConfig.addNewAssertion();
  assertionConfig.setType(TestAssertionRegistry.getInstance().getAssertionTypeForName(assertion));
  WsdlMessageAssertion messageAssertion=assertionsSupport.addWsdlAssertion(assertionConfig);
  assertionsSupport.fireAssertionAdded(messageAssertion);
  if (getMockResponse().getMockResult() != null) {
    messageAssertion.assertRequest(new WsdlMockResultMessageExchange(getMockResponse().getMockResult(),getMockResponse()),new WsdlSubmitContext(this));
    notifier.notifyChange();
  }
  return messageAssertion;
}
