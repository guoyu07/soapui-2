{
  if (StringUtils.hasContent(getQuery()) && StringUtils.hasContent(getMatch())) {
    testMockResponse=mockOperation.addNewMockResponse("MockResponse" + Math.random(),false);
    testMockResponse.setConfig(mockResponse.getConfig());
    QueryMatchMockOperationDispatcher dispatcher=(QueryMatchMockOperationDispatcher)mockOperation.setDispatchStyle(MockOperationDispatchStyleConfig.QUERY_MATCH.toString());
    QueryMatchMockOperationDispatcher.Query query=dispatcher.addQuery("Match");
    query.setPath(PropertyExpansionUtils.expandProperties(testRunContext,getQuery()));
    query.setValue(PropertyExpansionUtils.expandProperties(testRunContext,getMatch()));
    query.setResponse(testMockResponse.getName());
  }
 else {
    testMockResponse=mockResponse;
  }
}
