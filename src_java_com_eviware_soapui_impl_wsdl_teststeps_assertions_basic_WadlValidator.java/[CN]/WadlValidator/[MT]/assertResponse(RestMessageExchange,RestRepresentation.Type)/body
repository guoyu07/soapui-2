{
  List<AssertionError> result=new ArrayList<AssertionError>();
  QName responseBodyElementName=getResponseBodyElementName(messageExchange);
  RestRequest restRequest=messageExchange.getRestRequest();
  boolean asserted=false;
  for (  RestRepresentation representation : restRequest.getRepresentations(type,messageExchange.getResponseContentType())) {
    SchemaType schemaType=representation.getSchemaType();
    boolean statusOk=representation.getStatus().isEmpty() || representation.getStatus().contains(messageExchange.getResponseStatusCode());
    if (schemaType != null && responseBodyElementName != null && statusOk) {
      try {
        XmlObject xmlObject=schemaType.getTypeSystem().parse(messageExchange.getResponseContentAsXml(),schemaType,new XmlOptions());
        List<?> list=new ArrayList<Object>();
        XmlOptions xmlOptions=new XmlOptions();
        xmlOptions.setErrorListener(list);
        xmlOptions.setValidateTreatLaxAsSkip();
        xmlObject.validate(xmlOptions);
        for (        Object o : list) {
          if (o instanceof XmlError)           result.add(new AssertionError((XmlError)o));
 else           result.add(new AssertionError(o.toString()));
        }
        asserted=true;
      }
 catch (      XmlException e) {
        SoapUI.logError(e);
      }
    }
  }
  if (!asserted && result.isEmpty()) {
    result.add(new AssertionError("Missing matching representation for request with contentType [" + messageExchange.getResponseContentType() + "]"));
  }
  return result.toArray(new AssertionError[result.size()]);
}
