{
  RestParametersConfig restParamConf=RestParametersConfig.Factory.newInstance();
  params=new XmlBeansRestParamsTestPropertyHolder(testCase,restParamConf);
  HttpRequestConfig httpRequest=HttpRequestConfig.Factory.newInstance();
  httpRequest.setMethod(method);
  String path=RestUtils.extractParams(endpoint,params,true);
  endpoint=path;
  XmlBeansRestParamsTestPropertyHolder tempParams=new XmlBeansRestParamsTestPropertyHolder(testCase,httpRequest.addNewParameters());
  tempParams.addParameters(params);
  httpRequest.setEndpoint(HttpUtils.ensureEndpointStartsWithProtocol(endpoint));
  TestStepConfig testStep=TestStepConfig.Factory.newInstance();
  testStep.setType(HTTPREQUEST_TYPE);
  testStep.setConfig(httpRequest);
  testStep.setName(name);
  return testStep;
}
