{
  RestParametersConfig ccc=RestParametersConfig.Factory.newInstance();
  params=new XmlBeansRestParamsTestPropertyHolder(testCase,ccc);
  HttpRequestConfig httpRequest=HttpRequestConfig.Factory.newInstance();
  httpRequest.setMethod(method);
  String path=RestUtils.extractParams(endpoint,params,true);
  endpoint=path;
  httpRequest.setEndpoint(endpoint);
  RestParametersConfig r;
  for (  String xx : params.keySet()) {
    RestParameterConfig parameterConf=RestParameterConfig.Factory.newInstance();
    parameterConf.setName(xx);
    parameterConf.setValue(params.get(xx).getValue());
    ccc.addNewParameter().set(parameterConf);
  }
  httpRequest.setParameters(ccc);
  TestStepConfig testStep=TestStepConfig.Factory.newInstance();
  testStep.setType(HTTPREQUEST_TYPE);
  testStep.setConfig(httpRequest);
  testStep.setName(name);
  return testStep;
}
