{
  RestParametersConfig restParamConf=RestParametersConfig.Factory.newInstance();
  params=new XmlBeansRestParamsTestPropertyHolder(testCase,restParamConf);
  HttpRequestConfig httpRequest=HttpRequestConfig.Factory.newInstance();
  httpRequest.setMethod(method);
  if (HttpMethodType.POST.toString().equals(method)) {
    endpoint=endpoint + "?" + requestSource;
  }
  String path=RestUtils.extractParams(endpoint,params,true);
  endpoint=path;
  new XmlBeansRestParamsTestPropertyHolder(testCase,httpRequest.addNewParameters()).addParameters(params);
  httpRequest.setEndpoint(endpoint);
  TestStepConfig testStep=TestStepConfig.Factory.newInstance();
  testStep.setType(HTTPREQUEST_TYPE);
  testStep.setConfig(httpRequest);
  testStep.setName(name);
  return testStep;
}
