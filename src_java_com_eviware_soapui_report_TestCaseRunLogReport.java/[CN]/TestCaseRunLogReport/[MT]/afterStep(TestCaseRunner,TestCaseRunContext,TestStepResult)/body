{
  TestCaseRunLogTestStep testCaseRunLogTestStep=testCaseRunLog.addNewTestCaseRunLogTestStep();
  testCaseRunLogTestStep.setName(result.getTestStep().getName());
  testCaseRunLogTestStep.setTimeTaken(Long.toString(result.getTimeTaken()));
  testCaseRunLogTestStep.setStatus(result.getStatus().toString());
  testCaseRunLogTestStep.setMessageArray(result.getMessages());
  HttpRequestBase httpMethod=(HttpRequestBase)runContext.getProperty(BaseHttpRequestTransport.HTTP_METHOD);
  if (httpMethod != null) {
    testCaseRunLogTestStep.setEndpoint(httpMethod.getURI().toString());
    Object metricsObj=httpMethod.getParams().getParameter(ExtendedHttpMethod.HTTP_METRICS);
    if (metricsObj instanceof SoapUIMetrics) {
      SoapUIMetrics httpMetrics=(SoapUIMetrics)metricsObj;
      testCaseRunLogTestStep.setTimestamp(httpMetrics.getFormattedTimeStamp());
      testCaseRunLogTestStep.setHttpStatus(String.valueOf(httpMetrics.getHttpStatus()));
      testCaseRunLogTestStep.setContentLength(String.valueOf(httpMetrics.getContentLength()));
      testCaseRunLogTestStep.setReadTime(String.valueOf(httpMetrics.getReadTimer().getDuration()));
      testCaseRunLogTestStep.setTotalTime(String.valueOf(httpMetrics.getTotalTimer().getDuration()));
      testCaseRunLogTestStep.setDnsTime(String.valueOf(httpMetrics.getDNSTimer().getDuration()));
      testCaseRunLogTestStep.setConnectTime(String.valueOf(httpMetrics.getConnectTimer().getDuration()));
      testCaseRunLogTestStep.setTimeToFirstByte(String.valueOf(httpMetrics.getTimeToFirstByteTimer().getDuration()));
    }
  }
  Throwable error=result.getError();
  if (error != null) {
    testCaseRunLogTestStep.setErrorMessage(error.getMessage());
  }
}
