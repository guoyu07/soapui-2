{
  TreeMap<String,NodeInfo> result=new TreeMap<String,NodeInfo>();
  for (int cnt=0; cnt < rootXmlTreeNode.getChildCount(); cnt++) {
    if (((XmlTreeNode)rootXmlTreeNode.getChild(cnt)).getChildCount() > 0)     result.putAll(getElements(rootXmlTreeNode.getChild(cnt)));
 else {
      if (((XmlTreeNode)rootXmlTreeNode.getChild(cnt)).getSchemaType().isPrimitiveType())       result.put(((XmlTreeNode)rootXmlTreeNode.getChild(cnt)).getDomNode().getLocalName(),new NodeInfo(rootXmlTreeNode.getChild(cnt)));
    }
  }
  return result;
}
