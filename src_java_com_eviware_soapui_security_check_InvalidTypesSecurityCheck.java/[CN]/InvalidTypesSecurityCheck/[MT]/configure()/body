{
  if (dialog == null)   buildDialog();
  if (dialog != null) {
    XFormMultiSelectList field=(XFormMultiSelectList)dialog.getFormField(InvalidTypesConfigDialog.PARAMETERS);
    ArrayList<String> selected=new ArrayList<String>();
    for (    CheckedParameterConfig parm : invalidTypesConfig.getParametersList())     selected.add(parm.getParameterName());
    field.setSelectedOptions(selected.toArray(new String[0]));
    if (dialog.show()) {
      invalidTypesConfig.getParametersList().clear();
      for (      NodeInfo param : params.values())       param.setSelected(false);
      for (      Object key : field.getSelectedOptions()) {
        CheckedParameterConfig configParam=invalidTypesConfig.addNewParameters();
        configParam.setParameterName(params.get(key).getSimpleName());
        params.get(key).setSelected(true);
      }
    }
  }
  return true;
}
