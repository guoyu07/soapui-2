{
  typeBuckets.clear();
  for (  SecurityCheckedParameter param : getParameterHolder().getParameterList()) {
    TestProperty property=getTestStep().getProperties().get(param.getName());
    if (property.getValue() == null && property.getDefaultValue() == null)     continue;
    String value=property.getValue() == null ? property.getDefaultValue() : property.getValue();
    try {
      XmlObjectTreeModel model=new XmlObjectTreeModel(((WsdlTestRequestStep)getTestStep()).getOperation().getInterface().getDefinitionContext().getSchemaTypeSystem(),XmlObject.Factory.parse(value));
      XmlTreeNode[] nodes=model.selectTreeNodes(param.getXPath());
      if (nodes != null && nodes.length > 0) {
        ((SecurityCheckedParameterImpl)param).setType(nodes[0].getSchemaType());
        if (!typeBuckets.containsKey(param.getType()))         typeBuckets.put(param.getType(),new ArrayList<SecurityCheckedParameter>());
        typeBuckets.get(param.getType()).add(param);
      }
    }
 catch (    Exception e1) {
      UISupport.showErrorMessage("Failed to select XPath for source property value [" + value + "]");
    }
  }
}
