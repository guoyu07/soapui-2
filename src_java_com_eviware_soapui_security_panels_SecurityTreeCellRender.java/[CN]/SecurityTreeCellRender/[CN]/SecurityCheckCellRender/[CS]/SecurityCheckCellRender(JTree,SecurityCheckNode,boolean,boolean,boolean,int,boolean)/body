{
  super(new BorderLayout());
  this.node=node;
  this.securityCheck=(SecurityScan)node.getSecurityCheck();
  label=new JLabel(securityCheck.getName(),SwingConstants.LEFT);
  label.setIcon(UISupport.createImageIcon("/securityTest.png"));
  label.setBorder(BorderFactory.createEmptyBorder(5,45,5,5));
  label.setEnabled(!securityCheck.isDisabled());
  leftInnerPanel=new JPanel(new BorderLayout());
  leftInnerPanel.add(label,BorderLayout.CENTER);
  leftInnerPanel.setBackground(getBackground());
  progressBar=new JProgressBar();
  progressPanel=new JPanel(new FlowLayout(FlowLayout.LEFT,10,0));
  progressBar.setValue(0);
  progressBar.setStringPainted(true);
  progressBar.setString("");
  progressBar.setIndeterminate(false);
  progressBar.setBorder(BorderFactory.createMatteBorder(0,0,1,1,Color.LIGHT_GRAY));
  progressPanel.setBorder(BorderFactory.createEmptyBorder(5,5,5,0));
  progressPanel.add(progressBar);
  progressBar.setMinimumSize(new Dimension(0,200));
  progressBar.setInheritsPopupMenu(true);
  cntLabel=new JLabel("");
  cntLabel.setForeground(Color.white);
  cntLabel.setBackground(selected);
  cntLabel.setBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY));
  progressPanel.add(cntLabel);
  add(progressPanel,BorderLayout.LINE_END);
  add(leftInnerPanel,BorderLayout.LINE_START);
  setSelected(sel);
  setBorder(BorderFactory.createMatteBorder(0,0,1,0,Color.black));
  progressBarAdapter=new ProgressBarSecurityCheckAdapter(tree,this.node,progressBar,securityCheck,(SecurityTest)((SecurityScan)securityCheck).getParent(),cntLabel);
}
