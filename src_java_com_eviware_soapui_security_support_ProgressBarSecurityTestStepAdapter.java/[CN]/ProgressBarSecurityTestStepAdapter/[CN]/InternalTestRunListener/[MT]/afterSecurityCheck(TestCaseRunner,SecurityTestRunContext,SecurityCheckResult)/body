{
  if (securityCheckResult.getSecurityCheck().getTestStep().getId().equals(testStep.getId())) {
    if (securityCheckResult.getStatus() == SecurityStatus.CANCELED) {
      progressBar.setString(STATE_CANCEL);
    }
 else     if (securityCheckResult.getStatus() == SecurityStatus.FAILED) {
      progressBar.setForeground(FAILED_COLOR);
    }
 else     if (securityCheckResult.getStatus() == SecurityStatus.OK) {
      if (!progressBar.getForeground().equals(FAILED_COLOR) || !progressBar.getForeground().equals(MISSING_ASSERTION_COLOR)) {
        progressBar.setForeground(OK_COLOR);
      }
    }
    progressBar.setValue(((SecurityTestRunContext)runContext).getCurrentCheckIndex() + 1);
    ((DefaultTreeModel)tree.getModel()).nodeChanged(node);
  }
}
