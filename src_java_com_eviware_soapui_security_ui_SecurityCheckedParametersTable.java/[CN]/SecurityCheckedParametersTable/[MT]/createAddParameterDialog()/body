{
  actionList=new DefaultActionList();
  AddAction addAction=new AddAction();
  actionList.addAction(addAction,true);
  AddAndCopy addAndCopy=new AddAndCopy();
  actionList.addAction(addAndCopy);
  Close closeAction=new Close();
  actionList.addAction(closeAction);
  XFormDialog dialog=buildDialog();
  closeAction.setDialog(dialog);
  addAction.setDialog(dialog);
  addAndCopy.setDialog(dialog);
  final XFormField labelField=dialog.getFormField(AddParameterDialog.LABEL);
  labelField.setEnabled(false);
  final XFormField pathField=disablePath(dialog);
  enablePathField(pathField,false);
  JComboBoxFormField nameField=(JComboBoxFormField)dialog.getFormField(AddParameterDialog.NAME);
  nameField.addFormFieldListener(new XFormFieldListener(){
    @Override public void valueChanged(    XFormField sourceField,    String newValue,    String oldValue){
      if (!newValue.equals(CHOOSE_TEST_PROPERTY)) {
        labelField.setEnabled(true);
        enablePathField(pathField,true);
      }
 else {
        labelField.setEnabled(false);
        enablePathField(pathField,false);
      }
    }
  }
);
  ArrayList<String> options=new ArrayList<String>(properties.keySet());
  options.set(0,CHOOSE_TEST_PROPERTY);
  nameField.setOptions(options.toArray(new String[0]));
  return dialog;
}
