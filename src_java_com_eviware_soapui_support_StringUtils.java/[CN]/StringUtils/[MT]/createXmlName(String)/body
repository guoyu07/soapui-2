{
  StringBuffer result=new StringBuffer();
  boolean skipped=false;
  boolean numbersOnly=true;
  for (int c=0; c < str.length(); c++) {
    char ch=str.charAt(c);
    if (Character.isLetter(ch) || ch == '_' || ch == '-' || ch == '.') {
      if (skipped)       result.append(Character.toUpperCase(ch));
 else       result.append(ch);
      numbersOnly=false;
      skipped=false;
    }
 else     if (Character.isDigit(ch)) {
      result.append(ch);
      skipped=false;
    }
 else {
      skipped=true;
    }
  }
  str=result.toString();
  if (numbersOnly && str.length() > 0)   str="_" + str;
  return str;
}
