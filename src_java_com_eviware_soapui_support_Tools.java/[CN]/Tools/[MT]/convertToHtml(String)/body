{
  StringBuffer result=new StringBuffer("<html><body>");
  for (int c=0; c < str.length(); c++) {
    char ch=str.charAt(c);
    if (ch == '\n')     result.append("<br>");
 else     if (ch == ' ')     result.append("&nbsp;");
 else     if (ch == '>')     result.append("&gt;");
 else     if (ch == '<')     result.append("&lt;");
 else     result.append(ch);
  }
  result.append("</body></html>");
  return result.toString();
}
