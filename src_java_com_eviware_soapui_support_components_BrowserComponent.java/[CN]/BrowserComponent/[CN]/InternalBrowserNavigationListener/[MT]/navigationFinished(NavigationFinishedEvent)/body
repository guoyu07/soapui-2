{
  if (browserRecordingMap.containsKey(BrowserComponent.this)) {
    Map<String,RecordedRequest> map=browserRecordingMap.get(BrowserComponent.this);
    RecordedRequest recordedRequest=map.get(arg0.getUrl());
    if (recordedRequest != null) {
      if (httpHtmlResponseView != null && httpHtmlResponseView.isRecordHttpTrafic()) {
        HttpTestRequest httpTestRequest=(HttpTestRequest)(httpHtmlResponseView.getDocument().getRequest());
        WsdlTestCase testCase=httpTestRequest.getTestStep().getTestCase();
        int count=testCase.getTestStepList().size();
        String url2=recordedRequest.getUrl();
        try {
          url2=new URL(recordedRequest.getUrl()).getPath();
        }
 catch (        MalformedURLException e) {
        }
        HttpTestRequestStep newHttpStep=(HttpTestRequestStep)testCase.addTestStep(HttpRequestStepFactory.HTTPREQUEST_TYPE,"Http Test Step " + ++count + " ["+ url2+ "]",recordedRequest.getUrl(),recordedRequest.getMethod());
        newHttpStep.getTestRequest().setRequestHeaders(recordedRequest.getHeaders());
        if (recordedRequest.getContent() != null) {
          newHttpStep.getTestRequest().setMediaType(recordedRequest.getContentType());
          if (newHttpStep.getTestRequest().getMediaType().equals(CONTENT_TYPE_FORM_URLENCODED)) {
            newHttpStep.getTestRequest().setPostQueryString(true);
            RestUtils.extractParamsFromQueryString(newHttpStep.getTestRequest().getParams(),recordedRequest.getContent());
          }
 else {
            newHttpStep.getTestRequest().setRequestContent(recordedRequest.getContent());
          }
        }
      }
    }
  }
}
