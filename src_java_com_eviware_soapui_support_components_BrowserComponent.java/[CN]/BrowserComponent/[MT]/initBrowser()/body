{
  if (browser != null)   return false;
  browser=(MozillaBrowser)BrowserFactory.createBrowser(BrowserType.Mozilla);
  browserMap.put(((MozillaWebBrowser)browser.getPeer()).getWebBrowser().getContentDOMWindow(),this);
  if (newWindowManager == null) {
    registerHttpListener();
    newWindowManager=new SoapUINewWindowManager();
    browser.getServices().setNewWindowManager(newWindowManager);
    browser.getServices().setPromptService(new DefaultPromptService());
  }
  internalNavigationListener=new InternalBrowserNavigationListener();
  browser.addNavigationListener(internalNavigationListener);
  browser.addStatusListener(this);
  browser.addNavigationListener(new NavigationAdapter(){
    @Override public void navigationFinished(    NavigationFinishedEvent evt){
      if (evt.getUrl().equals(SoapUI.PUSH_PAGE_URL) && !(NavigationStatusCode.OK == evt.getStatusCode()))       browser.navigate(SoapUI.PUSH_PAGE_ERROR_URL);
    }
  }
);
  panel.add(browser.getComponent(),BorderLayout.CENTER);
  return true;
}
