{
  if (browser != null)   return false;
  browser=webBrowserFactory == null ? new DummyBrowser() : webBrowserFactory.createBrowser();
  panel.add(browser.getComponent(),BorderLayout.CENTER);
  browser.addContentHandler(new ContentHandler(){
    public boolean canHandleContent(    String arg0){
      return true;
    }
    public void handleContent(    URL arg0){
      SoapUI.log.info("Ignoring content for [" + arg0 + "]");
    }
    public boolean isPreferred(    String arg0){
      return true;
    }
  }
);
  if (webBrowserFactory != null) {
    nsIWebBrowser nsWebBrowser=((MozillaWebBrowser)browser).getWebBrowser();
    nsWebBrowser.addWebBrowserListener(this,nsIWebProgressListener.NS_IWEBPROGRESSLISTENER_IID);
    browser.addStatusChangeListener(this);
    browser.setWindowCreator(new WindowCreator(){
      public WebBrowserWindow createChildWindow(      Component parentComponent,      long flags){
        return browserWindowAdapter;
      }
    }
);
    setUpProxy();
  }
  return true;
}
