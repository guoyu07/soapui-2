{
  if (text != null && text.equals(getText()))   return;
  super.setText(text == null ? "" : text);
  if (discardEditsOnSet && undoManager != null)   undoManager.discardAllEdits();
}
