{
  if (StringUtils.isNullOrEmpty(source) || StringUtils.isNullOrEmpty(dest))   return dest;
  XmlCursor cursor=null;
  try {
    XmlObject sourceXml=XmlObject.Factory.parse(source);
    XmlObject destXml=XmlObject.Factory.parse(dest);
    cursor=sourceXml.newCursor();
    cursor.toNextToken();
    while (!cursor.isEnddoc()) {
      while (!cursor.isContainer() && !cursor.isEnddoc())       cursor.toNextToken();
      if (cursor.isContainer()) {
        Element elm=(Element)cursor.getDomNode();
        String path=createXPath(elm);
        XmlObject[] paths=destXml.selectPath(path);
        if (paths != null && paths.length > 0) {
          Element elm2=(Element)paths[0].getDomNode();
          NamedNodeMap attributes=elm.getAttributes();
          for (int c=0; c < attributes.getLength(); c++) {
            Attr attr=(Attr)attributes.item(c);
            elm2.setAttributeNodeNS((Attr)elm2.getOwnerDocument().importNode(attr,true));
          }
          setElementText(elm2,getElementText(elm));
        }
        cursor.toNextToken();
      }
    }
    return destXml.xmlText();
  }
 catch (  Exception e) {
    SoapUI.logError(e);
  }
 finally {
    if (cursor != null)     cursor.dispose();
  }
  return dest;
}
