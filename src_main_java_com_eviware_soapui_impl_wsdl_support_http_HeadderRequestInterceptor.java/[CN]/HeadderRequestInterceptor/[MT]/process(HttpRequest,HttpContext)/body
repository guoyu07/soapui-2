{
  if (request instanceof RequestWrapper) {
    List<Header> wHeaders=Arrays.asList(request.getAllHeaders());
    HttpRequest original=((RequestWrapper)request).getOriginal();
    List<Header> oHeaders=Arrays.asList(original.getAllHeaders());
    for (    Header header : wHeaders)     if (!oHeaders.contains(header))     original.addHeader(header.getName(),header.getValue());
  }
}
