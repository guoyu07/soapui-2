{
  try {
    URLConnection connection=null;
    if (ProxyUtils.isProxyEnabled()) {
      Settings settings=SoapUI.getSettings();
      PropertyExpansionContext context=null;
      String proxyHost=System.getProperty("http.proxyHost");
      String proxyPort=System.getProperty("http.proxyPort");
      if (proxyHost == null)       proxyHost=PropertyExpander.expandProperties(context,settings.getString(ProxySettings.HOST,""));
      if (proxyPort == null)       proxyPort=PropertyExpander.expandProperties(context,settings.getString(ProxySettings.PORT,""));
      Proxy proxy=new Proxy(Proxy.Type.HTTP,new InetSocketAddress(proxyHost,Integer.parseInt(proxyPort)));
      connection=versionUrl.openConnection(proxy);
    }
 else {
      connection=versionUrl.openConnection();
    }
    DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
    DocumentBuilder db=dbf.newDocumentBuilder();
    Document doc=db.parse(connection.getInputStream());
    doc.getDocumentElement().normalize();
    NodeList nodeLst=doc.getElementsByTagName("version");
    Node fstNode=nodeLst.item(0);
    if (fstNode.getNodeType() == Node.ELEMENT_NODE) {
      Element fstElmnt=(Element)fstNode;
      NodeList vrsnNmbrElmntLst=fstElmnt.getElementsByTagName("version-number");
      Element vrsnNmbrElmnt=(Element)vrsnNmbrElmntLst.item(0);
      NodeList vrsnNmbr=vrsnNmbrElmnt.getChildNodes();
      latestVersion=((Node)vrsnNmbr.item(0)).getNodeValue().toString();
      NodeList rlsNtsElmntLst=fstElmnt.getElementsByTagName("release-notes-core");
      Element rlsNtsElmnt=(Element)rlsNtsElmntLst.item(0);
      NodeList rlsNts=rlsNtsElmnt.getChildNodes();
      releaseNotesCore=((Node)rlsNts.item(0)).getNodeValue().toString();
      NodeList rlsNtsElmntLstPro=fstElmnt.getElementsByTagName("release-notes-pro");
      Element rlsNtsElmntPro=(Element)rlsNtsElmntLstPro.item(0);
      NodeList rlsNtsPro=rlsNtsElmntPro.getChildNodes();
      releaseNotesPro=((Node)rlsNtsPro.item(0)).getNodeValue().toString();
      NodeList coreDownloadNtsElmntLst=fstElmnt.getElementsByTagName("download-link-core");
      Element coreDownloadNtsElmnt=(Element)coreDownloadNtsElmntLst.item(0);
      NodeList coreDownloadNts=coreDownloadNtsElmnt.getChildNodes();
      downloadLinkCore=((Node)coreDownloadNts.item(0)).getNodeValue().toString();
      NodeList proDownloadNtsElmntElmntLst=fstElmnt.getElementsByTagName("download-link-pro");
      Element proDownloadNtsElmnt=(Element)proDownloadNtsElmntElmntLst.item(0);
      NodeList proDownloadNts=proDownloadNtsElmnt.getChildNodes();
      downloadLinkPro=((Node)proDownloadNts.item(0)).getNodeValue().toString();
    }
  }
 catch (  Exception e) {
    SoapUI.logError(e,"Network Error for Version Update or Proxy");
    throw e;
  }
}
