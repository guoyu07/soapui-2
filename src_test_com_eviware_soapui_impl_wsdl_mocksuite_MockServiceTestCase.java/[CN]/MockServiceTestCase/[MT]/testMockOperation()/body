{
  WsdlProject project=new WsdlProject();
  WsdlInterface iface=WsdlInterfaceFactory.importWsdl(project,"http://localhost:8082/test8/TestService.wsdl",true)[0];
  WsdlMockService mockService=(WsdlMockService)project.addNewMockService("MockService 1");
  mockService.setPort(9081);
  mockService.setPath("/testmock");
  WsdlOperation operation=(WsdlOperation)iface.getOperationAt(0);
  WsdlMockOperation mockOperation=(WsdlMockOperation)mockService.addNewMockOperation(operation);
  WsdlMockResponse mockResponse=mockOperation.addNewMockResponse("Test Response",true);
  mockResponse.setResponseContent("Tjohoo!");
  mockService.start();
  iface.addEndpoint("/testmock");
  WsdlRequest request=(WsdlRequest)operation.getRequestAt(0);
  request.setEndpoint("http://localhost:9081/testmock");
  Response response=request.submit(new WsdlSubmitContext(null),false).getResponse();
  assertEquals(response.getContentAsString(),mockResponse.getResponseContent());
}
