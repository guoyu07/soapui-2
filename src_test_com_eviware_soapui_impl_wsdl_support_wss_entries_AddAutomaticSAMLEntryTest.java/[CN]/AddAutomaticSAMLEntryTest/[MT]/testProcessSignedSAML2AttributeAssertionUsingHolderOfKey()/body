{
  addAutomaticSamlEntry.setSamlVersion(AddAutomaticSAMLEntry.SAML_VERSION_2);
  addAutomaticSamlEntry.setSigned(true);
  addAutomaticSamlEntry.setAssertionType(AddAutomaticSAMLEntry.ATTRIBUTE_ASSERTION_TYPE);
  addAutomaticSamlEntry.setConfirmationMethod(AddAutomaticSAMLEntry.HOLDER_OF_KEY_CONFIRMATION_METHOD);
  addAutomaticSamlEntry.setAttributeName(ATTTRIBUTE_NAME);
  StringToStringMap attributeValueRow=new StringToStringMap();
  attributeValueRow.put(AddAutomaticSAMLEntry.ATTRIBUTE_VALUES_VALUE_COLUMN,ATTTRIBUTE_VALUE);
  addAutomaticSamlEntry.setAttributeValues(Collections.singletonList(attributeValueRow));
  addAutomaticSamlEntry.process(secHeader,doc,contextMock);
  assertEquals(xpath.evaluate("//saml2:SubjectConfirmation/@Method",doc,XPathConstants.STRING),SAML_2_HOLDER_OF_KEY_NAMESPACE);
  assertNotNull(xpath.evaluate("//saml2:AttributeStatement",doc,XPathConstants.NODE));
  assertEquals(xpath.evaluate("//saml2:AttributeStatement/saml2:Attribute/@FriendlyName",doc,XPathConstants.STRING),ATTTRIBUTE_NAME);
  assertEquals(xpath.evaluate("//saml2:AttributeStatement/saml2:Attribute/saml2:AttributeValue",doc,XPathConstants.STRING),ATTTRIBUTE_VALUE);
}
