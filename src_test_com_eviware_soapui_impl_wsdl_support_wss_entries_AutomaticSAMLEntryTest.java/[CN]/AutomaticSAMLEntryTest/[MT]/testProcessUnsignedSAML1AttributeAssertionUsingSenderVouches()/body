{
  setRequiredFields(AutomaticSAMLEntry.SAML_VERSION_1,false,AutomaticSAMLEntry.ATTRIBUTE_ASSERTION_TYPE,AutomaticSAMLEntry.SENDER_VOUCHES_CONFIRMATION_METHOD);
  createAttribute();
  automaticSamlEntry.process(secHeader,doc,contextMock);
  System.out.println(XmlUtils.serializePretty(doc));
  assertEquals(xpath.evaluate("//saml1:ConfirmationMethod",doc,XPathConstants.STRING),SAML1Constants.CONF_SENDER_VOUCHES);
  assertNotNull(xpath.evaluate("//saml1:AttributeStatement",doc,XPathConstants.NODE));
  assertEquals(xpath.evaluate("//saml1:AttributeStatement/saml1:Attribute/@AttributeName",doc,XPathConstants.STRING),ATTTRIBUTE_NAME);
  assertEquals(xpath.evaluate("//saml1:AttributeStatement/saml1:Attribute/saml1:AttributeValue",doc,XPathConstants.STRING),ATTTRIBUTE_VALUE);
}
